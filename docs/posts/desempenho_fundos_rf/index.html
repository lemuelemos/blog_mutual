<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xml:lang="pt"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lemuel Lemos">

<title>Mutual Blog - Desempenho dos Fundos de Renda Fixa</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspondências adicionais",
    "search-more-match-text": "mais correspondência neste documento",
    "search-more-matches-text": "mais correspondências neste documento",
    "search-clear-button-title": "Limpar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Procurar"
  }
}</script>
<script src="../../site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="../../site_libs/react-18.2.0/react.min.js"></script>
<script src="../../site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="../../site_libs/reactwidget-2.0.0/react-tools.umd.cjs"></script>
<link href="../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../../site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="../../site_libs/reactable-binding-0.4.4/reactable.js"></script>
<script src="../../site_libs/echarts4r-4.8.0/echarts-en.min.js"></script>
<script src="../../site_libs/echarts4r-4.8.0/ecStat.min.js"></script>
<script src="../../site_libs/echarts4r-4.8.0/dataTool.min.js"></script>
<script src="../../site_libs/echarts4r-binding-0.4.5/echarts4r.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Mutual Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Procurar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Alternar de navegação" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../posts/index.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Sobre Mim</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../curriculo.html"> 
<span class="menu-text">Currículo</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Desempenho dos Fundos de Renda Fixa</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">fundos de investimentos</div>
                <div class="quarto-category">desempenho</div>
                <div class="quarto-category">renda fixa</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autor</div>
      <div class="quarto-title-meta-contents">
               <p>Lemuel Lemos </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Data de Publicação</div>
      <div class="quarto-title-meta-contents">
        <p class="date">1 de março de 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Desde que concluí minha tese sobre fundos de investimento, no início de 2014, venho considerando publicar posts regulares sobre o tema. O objetivo é construir uma base de conhecimento e compartilhar insights relevantes. Embora existam páginas que comparam fundos, ainda são raras as discussões que abordam a indústria de forma mais abrangente, analisando aspectos como captação, rentabilidade, risco e diversas outras métricas. Neste espaço, a proposta é analisar os dados de forma agregada, sem focar em fundos individuais.</p>
<p>Neste primeiro post, abordaremos questões mais técnicas, como o download dos dados, tratamento, integração de bases e outros processos necessários para nossas análises. Começaremos analisando as três principais classes de fundos: renda fixa, multimercados e ações. Esta será a primeira de uma série de três publicações, cada uma dedicada a uma das classes mencionadas.</p>
<p>Vamos cobrir todas as etapas do processo, como coleta dos dados, limpeza, manipulação e armazenamento. Além do processamento dos dados, vamos criar nossas análises sobre essas informações, a fim de entender o comportamento da indústria de fundos.</p>
<section id="fonte-de-dados" class="level3">
<h3 class="anchored" data-anchor-id="fonte-de-dados">Fonte de Dados</h3>
<p>Vamos utilizar como base de dados primária os dados presentes na <a href="https://dados.cvm.gov.br/group/fundos-de-investimento" target="_blank">CVM</a>, de onde pegaremos todos os dados referentes aos dados de cotas, dados cadastrais e o que é chamado de extrato de informações. Além disso, vamos utilizar dados fornecidos pela ANBIMA. Vamos utilizar as classificações dos fundos presentes nos dados cadastrais que a instituição utiliza. A escolha de utilização da classificação ANBIMA, está no fato de que durante o processo de tratamento de dados em minha tese de doutorado, percebi algumas inconsistências na base da CVM.</p>
</section>
<section id="aquisição-de-dados" class="level3">
<h3 class="anchored" data-anchor-id="aquisição-de-dados">Aquisição de dados</h3>
<p>Os primeiros dados que iremos baixar são aqueles referentes às cotas, ao PL e à captação dos fundos de investimento disponíveis no portal de dados abertos da <a href="https://dados.cvm.gov.br/group/fundos-de-investimento" target="_blank">CVM</a>. O nome da base é: <a href="https://dados.cvm.gov.br/dataset/fi-doc-inf_diario" target="_blank">Informe Diário</a>.</p>
<p>A CVM nos alerta que esses dados podem ser reapresentados em até M-11, além de dividi-los em dois repositórios: um contendo dados históricos desde 2000 até 2020, e outro com dados de 2021 até os dias atuais. Vamos baixar ambos. Faremos o download de arquivos compactados, que serão descompactados e carregados em nossa base de dados. Após a descompactação, uniremos todos os arquivos em uma única base.</p>
<p>Para lidar com o grande volume de dados, vamos paralelizar nossa execução utilizando o pacote <code>furrr</code>. Esse pacote permite baixar vários meses de uma só vez, reduzindo consideravelmente o tempo de download. Após obter os dados da CVM, vamos unir todas as bases e, em seguida, salvar os dados em um banco de dados conhecido como <strong>DuckDB</strong>.</p>
<p>Depois de consolidar os dados, teremos aproximadamente 70 milhões de linhas, o que dificulta o tratamento diretamente no R. O <strong>DuckDB</strong> nos permite manipular esses dados com mais agilidade, pois é um banco otimizado para lidar com grandes volumes de informação.</p>
<p>Primeira coisa que vamos fazer é carrregar os pacotes necessários e conectar ao nosso banco. Lembro que se você for fazer isos em sua máquina o caminho que está sendo utilizando no parâmetro <code>dbdir</code> tem que ser relativo a sua própria pasta.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dbplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(furrr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggimprensa)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(echarts4r)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Conectando a base de dados</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(duckdb<span class="sc">::</span><span class="fu">duckdb</span>(), </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">dbdir =</span> <span class="st">"fundos_db.duckdb"</span>,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">read_only =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para obter o conjunto completo de dados, vamos acessar os endereços <a href="https://dados.cvm.gov.br/dados/FI/DOC/INF_DIARIO/DADOS/HIST/">HIST</a> e <a href="https://dados.cvm.gov.br/dados/FI/DOC/INF_DIARIO/DADOS/">DADOS</a> para baixar todos os arquivos disponíveis. Para otimizar essa etapa, utilizaremos as funções de paralelização do pacote <code>furrr</code>, configurando quatro clusters para realizar as requisições simultaneamente e, assim, agilizar o processo de download.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando a sequência de datas para criar as urls de download</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>anos_download <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2000</span>,<span class="dv">2020</span>,<span class="dv">1</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>meses_download <span class="ot">&lt;-</span> <span class="fu">format</span>(<span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2021-01-01"</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">as.Date</span>(<span class="st">"2025-01-01"</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                             <span class="at">by =</span> <span class="st">"month"</span>),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"%Y%m"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Definindo o número de workers</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>future<span class="sc">::</span><span class="fu">plan</span>(future<span class="sc">::</span>multisession, </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">workers =</span> <span class="dv">6</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Fazendo donwload dos arquivos de 2000 a 2020</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>furrr<span class="sc">::</span><span class="fu">future_walk</span>(anos_download, <span class="cf">function</span>(ano){</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">600</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://dados.cvm.gov.br/dados/FI/DOC/INF_DIARIO/DADOS/HIST/inf_diario_fi_"</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>                ano,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>                <span class="st">".zip"</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  destfile <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"./informe_diario/"</span>,ano,<span class="st">".zip"</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  utils<span class="sc">::</span><span class="fu">download.file</span>(url,destfile,<span class="at">mode =</span> <span class="st">"wb"</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>},<span class="at">.progress =</span> T)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Fazendo donwload dos arquivos de 2021 a janeiro de 2025 </span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>furrr<span class="sc">::</span><span class="fu">future_walk</span>(meses_download, <span class="cf">function</span>(mes){</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">600</span>)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://dados.cvm.gov.br/dados/FI/DOC/INF_DIARIO/DADOS/inf_diario_fi_"</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>                mes,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>                <span class="st">".zip"</span>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  destfile <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"./informe_diario/"</span>,mes,<span class="st">".zip"</span>)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(url,destfile)</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>},</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="at">.progress =</span> T)</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Dezipando arquivos </span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>zipfiles <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"./informe_diario/"</span>,<span class="at">full.names =</span> T,<span class="at">pattern =</span> <span class="st">".zip"</span>)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>furrr<span class="sc">::</span><span class="fu">future_walk</span>(zipfiles,<span class="cf">function</span>(path){</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unzip</span>(path,<span class="at">exdir =</span> <span class="st">"./informe_diario/"</span>)</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Deletando arquivos baixados</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">file.remove</span>(<span class="fu">list.files</span>(<span class="st">"./posts/desempenho_fundos_rf/informe_diario/"</span>,</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">full.names =</span> T)))</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Excluindo os workers da paralelização</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>future<span class="sc">::</span><span class="fu">plan</span>(future<span class="sc">::</span>sequential)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Depois de baixar todos os arquivos, precisamos ler cada um dos CSVs e unificá-los em um único objeto. Essa etapa pode ser bastante exigente em termos de recursos e, por isso, pode não rodar tão facilmente em alguns computadores. No meu caso, como a minha máquina tem 32 GB de memória, consegui processar tudo sem maiores problemas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lista todos os arquivos CSV da pasta "informe_diario"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>arquivos_csv <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"./informe_diario/"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>, <span class="at">pattern =</span> <span class="st">".csv"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Configura o plano de execução paralela com 6 núcleos (multisession é compatível com Windows)</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>future<span class="sc">::</span><span class="fu">plan</span>(future<span class="sc">::</span>multisession, <span class="at">workers =</span> <span class="dv">6</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Lê todos os arquivos CSV em paralelo e armazena os resultados como uma lista de dataframes</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>furrr<span class="sc">::</span><span class="fu">future_map</span>(arquivos_csv, <span class="cf">function</span>(arquivo) {</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  readr<span class="sc">::</span><span class="fu">read_delim</span>(arquivo, </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">delim =</span> <span class="st">";"</span>, <span class="at">escape_double =</span> <span class="cn">FALSE</span>, <span class="at">trim_ws =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}, <span class="at">.progress =</span> <span class="cn">TRUE</span>) <span class="ot">-&gt;</span> informes_diarios</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Restaura o plano de execução para modo sequencial após a paralelização</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>future<span class="sc">::</span><span class="fu">plan</span>(future<span class="sc">::</span>sequential)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Junta todos os dataframes da lista em um único dataframe consolidado</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>informes_diarios <span class="sc">%&gt;%</span> </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>() <span class="ot">-&gt;</span> informes_diarios</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Deletando o objeto com todos os CSVs lidos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbWriteTable</span>(con,<span class="st">"informes_diarios"</span>,informes_diarios)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(informes_diarios)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="etl-dos-dados" class="level3">
<h3 class="anchored" data-anchor-id="etl-dos-dados">ETL dos Dados</h3>
<p>O primeiro passo para iniciarmos o ETL dos nossos dados consiste em nos conectarmos à base de dados. Vamos utilizar a função <code>tbl</code> do pacote <code>dplyr</code>, que nos permite manipular a tabela do banco DuckDB como se fosse um data frame dentro do nosso projeto.</p>
<p>Os arquivos que baixamos contêm todos os tipos de fundos. Aqui, vamos nos concentrar nos fundos de investimento tradicionais, conhecidos por fazerem parte da Instrução CVM 175. Para isso, vamos filtrar a base, selecionando apenas os fundos com a designação <strong>FI</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>informes_diarios <span class="ot">&lt;-</span> <span class="fu">tbl</span>(con,<span class="st">"informes_diarios"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vamos começar integrando a base de dados fornecida pela ANBIMA. Primeiro, leremos o arquivo e o salvaremos em nossa base do DuckDB. Em seguida, faremos a união das duas fontes de dados, o que nos permitirá filtrar apenas as classes de fundos desejadas para este primeiro momento, com foco nos fundos de renda fixa.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fundos_175_anbima <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"fundos-175-caracteristicas-publico-22-02-2025-12-01-14.xlsx"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbWriteTable</span>(con,<span class="st">"fundos_175_anbima"</span>,fundos_175_anbima)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(fundos_175_anbima)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aqui, como os dados filtrados resultaram em uma quantidade menor, o tamanho da base nos permite trabalhar tudo dentro do R sem problemas de desempenho. O <code>DuckDB</code> é fundamental para filtrar e unir as bases, pois o tempo de execução é bastante reduzido devido à sua maior eficiência ao lidar com grandes volumes de dados. Apenas a base de FI, por exemplo, possui cerca de 20 milhões de linhas, o que tornaria a análise diretamente no R muito lenta. Ao reduzir o tamanho da base, passamos a poder trabalhar tudo dentro do próprio R, sem precisar utilizar o <code>DuckDB</code>. É isso que fazemos a seguir.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>informes_diarios <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Substitui valores ausentes em CNPJ_FUNDO e TP_FUNDO pelos valores da classe correspondente</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">CNPJ_FUNDO =</span> <span class="fu">case_when</span>(<span class="fu">is.na</span>(CNPJ_FUNDO) <span class="sc">~</span> CNPJ_FUNDO_CLASSE,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">.default =</span> CNPJ_FUNDO),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">TP_FUNDO =</span> <span class="fu">case_when</span>(<span class="fu">is.na</span>(TP_FUNDO) <span class="sc">~</span> TP_FUNDO_CLASSE,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">.default =</span> TP_FUNDO)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove qualquer caractere que não seja número do CNPJ_FUNDO usando expressão regular SQL</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CNPJ_FUNDO =</span> <span class="fu">sql</span>(<span class="st">"regexp_replace(CNPJ_FUNDO, '[^0-9]', '', 'g')"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Junta com a tabela fundos_175_anbima para enriquecer os dados com metainformações dos fundos</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tbl</span>(con, <span class="st">"fundos_175_anbima"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="st">`</span><span class="at">CNPJ do Fundo</span><span class="st">`</span> <span class="sc">!=</span> <span class="st">"58137699000116"</span>) <span class="sc">%&gt;%</span>  <span class="co"># Esse fundo em especifico possuia valores duplicados</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Código ANBIMA</span><span class="st">`</span>, Estrutura, <span class="st">`</span><span class="at">CNPJ do Fundo</span><span class="st">`</span>, <span class="st">`</span><span class="at">Nome Comercial</span><span class="st">`</span>, Status,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Categoria ANBIMA</span><span class="st">`</span>, <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>, <span class="st">`</span><span class="at">Composição do Fundo</span><span class="st">`</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Aberto Estatutariamente</span><span class="st">`</span>, <span class="st">`</span><span class="at">Tributação Alvo</span><span class="st">`</span>, <span class="st">`</span><span class="at">Primeiro Aporte</span><span class="st">`</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Tipo de Investidor</span><span class="st">`</span>, <span class="st">`</span><span class="at">Característica do Investidor</span><span class="st">`</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Cota de Abertura</span><span class="st">`</span>, <span class="st">`</span><span class="at">Aplicação Inicial Mínima</span><span class="st">`</span>, </span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Prazo Pagamento Resgate em dias</span><span class="st">`</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"CNPJ_FUNDO"</span> <span class="ot">=</span> <span class="st">"CNPJ do Fundo"</span>)</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filtra apenas fundos classificados como "Renda Fixa"</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Categoria ANBIMA</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Renda Fixa"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Coleta os dados do banco (conversão para tibble local)</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="ot">-&gt;</span> fundos_rf</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Depois de realizar esses processamentos, vamos conferir a quantidade de fundos com os quais trabalharemos.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fundos_rf <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(CNPJ_FUNDO, <span class="st">`</span><span class="at">Categoria ANBIMA</span><span class="st">`</span>, <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Categoria ANBIMA</span><span class="st">`</span>, <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span>  </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Quantidade =</span> n) <span class="sc">%&gt;%</span>  </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Part (%)</span><span class="st">`</span> <span class="ot">=</span> Quantidade <span class="sc">/</span> <span class="fu">sum</span>(Quantidade) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Part Acum (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">cumsum</span>(<span class="st">`</span><span class="at">Part (%)</span><span class="st">`</span>)) <span class="sc">%&gt;%</span>  </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  reactable<span class="sc">::</span><span class="fu">reactable</span>(</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">pagination =</span> <span class="cn">FALSE</span>,  </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">defaultColDef =</span> <span class="fu">colDef</span>(<span class="at">minWidth =</span> <span class="dv">120</span>),  </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">resizable =</span> <span class="cn">TRUE</span>,  </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">list</span>(</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Categoria ANBIMA</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">120</span>),  </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">360</span>),  </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">Quantidade =</span> <span class="fu">colDef</span>(</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">width =</span> <span class="dv">120</span>,</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="st">"right"</span>,  </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">format =</span> <span class="fu">colFormat</span>(<span class="at">separators =</span> <span class="cn">TRUE</span>),  </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">footer =</span> <span class="cf">function</span>(values) {  </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>          htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">b</span>(<span class="st">"Total: "</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>            htmltools<span class="sc">::</span><span class="fu">tagAppendChildren</span>(htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">span</span>(<span class="fu">sum</span>(values)))  </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Part (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">width =</span> <span class="dv">80</span>,</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="st">"right"</span>,  </span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">format =</span> <span class="fu">colFormat</span>(<span class="at">suffix =</span> <span class="st">"%"</span>, <span class="at">digits =</span> <span class="dv">2</span>),  </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">footer =</span> <span class="cf">function</span>(values) {  </span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>          htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">b</span>(<span class="st">"100%"</span>)  </span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Part Acum (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">width =</span> <span class="dv">120</span>,</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="st">"right"</span>,  </span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">format =</span> <span class="fu">colFormat</span>(<span class="at">suffix =</span> <span class="st">"%"</span>, <span class="at">digits =</span> <span class="dv">2</span>),  </span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">footer =</span> <span class="cf">function</span>(values) {  </span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>          htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">b</span>(<span class="st">"100%"</span>)  </span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-497f1b825d095631439b" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-497f1b825d095631439b">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Categoria ANBIMA":["Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa","Renda Fixa"],"Tipo ANBIMA":["Renda Fixa Duração Livre Crédito Livre","Renda Fixa Duração Livre Grau de Investimento","Renda Fixa Duração Baixa Grau de Investimento","Renda Fixa Duração Livre Soberano","Renda Fixa Duração Baixa Soberano","Renda Fixa Indexados","Renda Fixa Simples","Renda Fixa Investimento no Exterior","Renda Fixa Duração Média Grau de Investimento","Renda Fixa Duração Alta Grau de Investimento","Renda Fixa Duração Baixa Crédito Livre","Renda Fixa Duração Média Crédito Livre","Renda Fixa Duração Alta Crédito Livre","Renda Fixa Duração Média Soberano","Renda Fixa Duração Alta Soberano","Renda Fixa Dívida Externa"],"Quantidade":[2011,909,512,341,259,194,147,131,117,62,43,41,33,18,17,5],"Part (%)":[41.5495867768595,18.7809917355372,10.5785123966942,7.04545454545454,5.35123966942149,4.00826446280992,3.03719008264463,2.70661157024793,2.41735537190083,1.28099173553719,0.888429752066116,0.847107438016529,0.681818181818182,0.371900826446281,0.351239669421488,0.103305785123967],"Part Acum (%)":[41.5495867768595,60.3305785123967,70.9090909090909,77.9545454545455,83.3057851239669,87.3140495867769,90.3512396694215,93.0578512396694,95.4752066115702,96.7561983471074,97.6446280991735,98.4917355371901,99.1735537190083,99.5454545454545,99.896694214876,100]},"columns":[{"id":"Categoria ANBIMA","name":"Categoria ANBIMA","type":"character","minWidth":120,"width":120},{"id":"Tipo ANBIMA","name":"Tipo ANBIMA","type":"character","minWidth":120,"width":360},{"id":"Quantidade","name":"Quantidade","type":"numeric","minWidth":120,"format":{"cell":{"separators":true},"aggregated":{"separators":true}},"footer":{"name":"b","attribs":{},"children":["Total: ",{"name":"span","attribs":{},"children":["4840"]}]},"width":120,"align":"right"},{"id":"Part (%)","name":"Part (%)","type":"numeric","minWidth":120,"format":{"cell":{"suffix":"%","digits":2},"aggregated":{"suffix":"%","digits":2}},"footer":{"name":"b","attribs":{},"children":["100%"]},"width":80,"align":"right"},{"id":"Part Acum (%)","name":"Part Acum (%)","type":"numeric","minWidth":120,"format":{"cell":{"suffix":"%","digits":2},"aggregated":{"suffix":"%","digits":2}},"footer":{"name":"b","attribs":{},"children":["100%"]},"width":120,"align":"right"}],"resizable":true,"pagination":false,"dataKey":"a7a877e6a018e76fc9d805f18130d899"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Ao analisar os dados que relacionam as novas classificações da ANBIMA para fundos de Renda Fixa às quantidades de fundos em cada categoria, percebe-se novamente um predomínio significativo dos fundos classificados como <strong>“Renda Fixa Duração Livre Crédito Livre”</strong>, que totalizam 2.011 fundos. Em seguida, destacam-se os 909 fundos enquadrados em <strong>“Renda Fixa Duração Livre Grau de Investimento”</strong> e os 512 em <strong>“Renda Fixa Duração Baixa Grau de Investimento”</strong>.</p>
<p>Categorias como <strong>“Renda Fixa Duração Livre Soberano”</strong> (341 fundos) e <strong>“Renda Fixa Duração Baixa Soberano”</strong> (259 fundos) possuem presença intermediária. Outras categorias, como <strong>“Renda Fixa Indexados”</strong> (194 fundos), <strong>“Renda Fixa Simples”</strong> (147 fundos) e <strong>“Renda Fixa Investimento no Exterior”</strong> (131 fundos), também apresentam relevância expressiva, assim como <strong>“Renda Fixa Duração Média Grau de Investimento”</strong> (117 fundos).</p>
<p>Por outro lado, categorias como <strong>“Renda Fixa Duração Alta Grau de Investimento”</strong> (62 fundos), <strong>“Renda Fixa Duração Baixa Crédito Livre”</strong> (43 fundos), <strong>“Renda Fixa Duração Média Crédito Livre”</strong> (41 fundos), <strong>“Renda Fixa Duração Alta Crédito Livre”</strong> (33 fundos), <strong>“Renda Fixa Duração Média Soberano”</strong> (18 fundos), <strong>“Renda Fixa Duração Alta Soberano”</strong> (17 fundos) e <strong>“Renda Fixa Dívida Externa”</strong> (5 fundos) continuam sendo menos representativas.</p>
<p>Essa distribuição evidencia uma preferência pelas categorias que oferecem maior flexibilidade na gestão dos recursos e exposição ao crédito privado ou grau de investimento. Em contraste, estratégias específicas ou nichos, como fundos de dívida externa ou soberanos com maior duração, reúnem poucos produtos, demonstrando que gestores e investidores optam predominantemente por categorias mais flexíveis e diversificadas em termos de risco e alocação.</p>
</section>
<section id="extrato-de-infomações" class="level2">
<h2 class="anchored" data-anchor-id="extrato-de-infomações">Extrato de Infomações</h2>
<p>Neste estudo, utilizo como referência o arquivo disponibilizado pela ANBIMA, que traz informações qualitativas relevantes sobre os fundos de investimento. A base escolhida é o arquivo <a href="https://dados.cvm.gov.br/dataset/fi-doc-extrato" target="_blank">Extrato de Informações</a>, que contém diversas informações qualitativas sobre os fundos de investimento. Trata-se de uma base extensa, com 117 colunas, da qual utilizei apenas as informações consideradas mais relevantes para este estudo.</p>
<p>Recomendo ao leitor interessado acessar diretamente o arquivo completo caso deseje explorar detalhadamente todas as informações disponíveis.</p>
<p>Vamos baixar os dados da CVM diretamente em nonna máquina, porém não utilizaremos todas as 117 colunas disponíveis. Com base na documentação das variáveis disponibilizada pela Comissão de Valores Mobiliários (CVM) no link <a href="https://dados.cvm.gov.br/dados/FI/DOC/EXTRATO/META/meta_extrato_fi.txt" target="_blank">Documentação das Variáveis do Extrato de Informações</a>, faremos uma seleção das variáveis consideradas mais relevantes para a análise desenvolvida neste estudo:</p>
<ul>
<li><strong>PUBLICO_ALVO:</strong> público a que se destina o fundo de investimento.</li>
<li><strong>DISTRIB:</strong> forma principal de distribuição do fundo.</li>
<li><strong>POLIT_INVEST:</strong> política de investimento adotada.</li>
<li><strong>FUNDO_COTAS:</strong> indicação se o fundo investe predominantemente em cotas de outros fundos.</li>
<li><strong>FUNDO_ESPELHO:</strong> indicação se o fundo replica a carteira de outro fundo (fundo espelho).</li>
<li><strong>APLIC_MIN:</strong> valor mínimo exigido para investimento inicial no fundo.</li>
<li><strong>ATUALIZ_DIARIA_COTA:</strong> frequência da atualização e divulgação da cota do fundo.</li>
<li><strong>TAXA_SAIDA_PAGTO_RESGATE:</strong> prazo efetivo para pagamento do resgate a partir da data de pedido.</li>
<li><strong>TAXA_ADM:</strong> percentual cobrado como taxa de administração.</li>
<li><strong>EXISTE_TAXA_PERFM:</strong> indicação da existência de taxa de performance.</li>
<li><strong>TAXA_PERFM:</strong> valor percentual cobrado como taxa de performance.</li>
<li><strong>PARAM_TAXA_PERFM:</strong> parâmetro utilizado para cobrança da taxa de performance.</li>
<li><strong>CALC_TAXA_PERFM:</strong> método utilizado para calcular a taxa de performance.</li>
<li><strong>EXISTE_TAXA_INGRESSO:</strong> indicação da existência de taxa de ingresso.</li>
<li><strong>EXISTE_TAXA_SAIDA:</strong> indicação da existência de taxa de saída.</li>
<li><strong>INVEST_EXTERIOR:</strong> indicação se o fundo realiza investimentos no exterior.</li>
<li><strong>ATIVO_CRED_PRIV:</strong> indicação se o fundo investe em ativos de crédito privado.</li>
</ul>
<p>Creio que com essas variáveis vamos conseguir ter um bom raio x dos fundos de renda fixa.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>extrato_fi <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">"./extrato_fi.csv"</span>, </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                                <span class="at">delim =</span> <span class="st">";"</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                                <span class="at">escape_double =</span> <span class="cn">FALSE</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                                <span class="at">locale =</span> readr<span class="sc">::</span><span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"WINDOWS-1252"</span>), </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                                <span class="at">trim_ws =</span> <span class="cn">TRUE</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                                <span class="at">quote =</span> <span class="st">""</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CNPJ_FUNDO_CLASSE =</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(CNPJ_FUNDO_CLASSE,<span class="st">"</span><span class="sc">\\</span><span class="st">.|/|-"</span>)) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Após baixar os dados, vamos unir com nossa base de fundos para que possamos ver qualitativamente os fundos de renda fixa.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>fundos_rf <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    extrato_fi <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(CNPJ_FUNDO_CLASSE,PUBLICO_ALVO, DISTRIB, POLIT_INVEST, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>         FUNDO_COTAS,FUNDO_ESPELHO, APLIC_MIN, ATUALIZ_DIARIA_COTA,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>         TAXA_SAIDA_PAGTO_RESGATE, TAXA_ADM, EXISTE_TAXA_PERFM,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>         TAXA_PERFM, PARAM_TAXA_PERFM, CALC_TAXA_PERFM,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>         EXISTE_TAXA_INGRESSO, EXISTE_TAXA_SAIDA,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>         INVEST_EXTERIOR, ATIVO_CRED_PRIV),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"CNPJ_FUNDO"</span> <span class="ot">=</span> <span class="st">"CNPJ_FUNDO_CLASSE"</span>) </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="ot">-&gt;</span> fundos_rf</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>No geral, a explicação dada anteriormente já permite uma interpretação direta do tipo de informação que ela busca transmitir. Porém, creio que as políticas de investimento merecem um detalhamento maior, pois sua interpretação não é tão direta. O documento publicado pela Comissão de Valores Mobiliários (CVM), disponível no link <a href="https://www.gov.br/cvm/pt-br/centrais-de-conteudo/publicacoes/estudos/arr-regime-informacional-fundos-555.pdf" target="_blank">Resumo CVM Instrução CVM 175</a>, apresenta informações essenciais sobre o regime informacional aplicável aos fundos de investimento regulamentados pela Instrução CVM nº 555. Entre os tópicos abordados no estudo estão as principais políticas de investimento adotadas pelos fundos, que são resumidas a seguir:</p>
<p><strong>Tipos de Políticas de Investimento</strong></p>
<ol type="1">
<li><p><strong>Ativa e Referenciada:</strong><br>
Fundos que adotam gestão ativa, com o objetivo de obter retornos superiores a um índice de referência específico (benchmark). Embora busquem superá-lo, a estratégia permanece atrelada ao índice escolhido.</p></li>
<li><p><strong>Ativa e Não Referenciada:</strong><br>
Fundos com gestão ativa, sem utilizar um índice específico como parâmetro para os resultados. A seleção dos investimentos é livre, não sendo direcionada à replicação ou superação de benchmarks definidos.</p></li>
<li><p><strong>Passiva:</strong><br>
Fundos que utilizam gestão passiva, com o objetivo de acompanhar a variação de um índice de referência. Não possuem a intenção explícita de superar esse índice, replicando geralmente a sua composição.</p></li>
<li><p><strong>Enhanced:</strong><br>
Fundos que integram estratégias ativas e passivas, buscando retornos acima do índice de referência, porém mantendo características semelhantes ao índice replicado, especialmente no que diz respeito ao perfil de risco e composição da carteira.</p></li>
</ol>
<p>Com essas informações em mãos, podemos agora analisar de forma quantitativa o perfil desses fundos de investimento. O primeiro ponto que quero abordar consiste na distribuição entre público-alvo e políticas de investimento. Isso nos permitirá entender melhor se há uma tendência de política de investimentos a depender do público-alvo do fundo. O código a seguir vai selecionar somente as colunas de interesse. Como nossa base é grande, principalmente devido às informações diárias dos fundos de investimento, precisamos selecionar as colunas relevantes e, assim, obter apenas os valores únicos para cada fundo de investimento.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fundos_rf <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(CNPJ_FUNDO,<span class="st">`</span><span class="at">Tipo de Investidor</span><span class="st">`</span>,<span class="st">`</span><span class="at">Característica do Investidor</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Tipo de Investidor</span><span class="st">`</span>,<span class="st">`</span><span class="at">Característica do Investidor</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Quantidade =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  reactable<span class="sc">::</span><span class="fu">reactable</span>(</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">pagination =</span> <span class="cn">FALSE</span>,  <span class="co"># Desativa a paginação da tabela</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">resizable =</span> <span class="cn">TRUE</span>,  <span class="co"># Permite redimensionamento das colunas</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">list</span>(</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">Quantidade =</span> <span class="fu">colDef</span>(</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="st">"right"</span>,  <span class="co"># Alinha os valores numéricos à direita</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">format =</span> <span class="fu">colFormat</span>(<span class="at">separators =</span> <span class="cn">TRUE</span>),  <span class="co"># Formata os números com separadores de milhar</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">footer =</span> <span class="cf">function</span>(values) {  <span class="co"># Adiciona um rodapé à coluna Quantidade</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>          tags<span class="sc">$</span><span class="fu">b</span>(<span class="st">"Total: "</span>) <span class="sc">%&gt;%</span>  <span class="co"># Coloca a palavra "Total" em negrito</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>            <span class="fu">tagAppendChildren</span>(tags<span class="sc">$</span><span class="fu">span</span>(<span class="fu">sum</span>(values)))  <span class="co"># Adiciona a soma total ao lado</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-5f7ef4a47e19369f2d72" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5f7ef4a47e19369f2d72">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Tipo de Investidor":["Não Há Restrição","Exclusivo","Reservado","Não Há Restrição","Não Há Restrição","Não há Restrição","Reservado","Não há Restrição","Reservado","Exclusivo","Não há Restrição","Exclusivo","Não há Restrição",null],"Característica do Investidor":["Geral","Profissional","Profissional","Qualificado","Profissional","Geral","Qualificado","Profissional","Geral","Qualificado","Qualificado","Geral",null,null],"Quantidade":[2002,1110,570,410,288,135,110,73,47,42,38,14,1,1]},"columns":[{"id":"Tipo de Investidor","name":"Tipo de Investidor","type":"character"},{"id":"Característica do Investidor","name":"Característica do Investidor","type":"character"},{"id":"Quantidade","name":"Quantidade","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"footer":{"name":"b","attribs":{},"children":["Total: ",{"name":"span","attribs":{},"children":["4841"]}]},"align":"right"}],"resizable":true,"pagination":false,"dataKey":"e629dbdb1d0b6fa7710cf51c9037274f"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Os dados da tabela que nos apresenta o <strong>Tipo e a Característica do Investidor</strong> revela uma forte concentração dos fundos abertos ao público geral, especialmente na combinação <strong>“Não Há Restrição - Geral”</strong>, que conta com um total de <strong>2.137 fundos</strong> (2.002 + 135). Outra parcela significativa é formada pelos fundos destinados ao investidor profissional, com destaque para as categorias <strong>“Exclusivo - Profissional”</strong> com <strong>1.110 fundos</strong> e <strong>“Reservado - Profissional”</strong>, que possui <strong>570 fundos</strong>.</p>
<p>Destaca-se também o número expressivo de fundos destinados a investidores qualificados na categoria <strong>“Não Há Restrição - Qualificado”</strong>, que soma <strong>410 fundos</strong>, além dos fundos reservados e exclusivos para investidores profissionais (<strong>Reservado - Profissional</strong> com <strong>570 fundos</strong> e <strong>Exclusivo - Profissional</strong> com <strong>1.110 fundos</strong>).</p>
<p>Por outro lado, fundos voltados especificamente para investidores qualificados nas modalidades reservada (<strong>Reservado - Qualificado</strong>) e exclusiva (<strong>Exclusivo - Qualificado</strong>) possuem representação relativamente baixa, com <strong>110</strong> e <strong>42 fundos</strong>, respectivamente. Também aparece com pouca representatividade a combinação <strong>“Reservado - Geral”</strong>, com apenas <strong>14 fundos</strong>.</p>
<p>Não é nenhuma surpresa que os fundos destinados ao público em geral sejam predominantes entre os fundos de investimento. Chama a atenção a grande quantidade de fundos <strong>Exclusivos</strong> voltados para investidores profissionais, representando quase metade dos fundos destinados ao público em geral. Dada a característica desses fundos, aparentemente este é um mecanismo utilizado por classes profissionais e que pode ser objeto de um estudo mais aprofundado no futuro, com o objetivo de compreender melhor as razões por trás desse fenômeno.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>extrato_fi <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(DT_COMPTC, CNPJ_FUNDO_CLASSE, POLIT_INVEST, FUNDO_ESPELHO, FUNDO_COTAS) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CNPJ_FUNDO_CLASSE <span class="sc">%in%</span> <span class="fu">distinct</span>(fundos_rf, CNPJ_FUNDO)<span class="sc">$</span>CNPJ_FUNDO) <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DT_COMPTC =</span> <span class="fu">as.Date</span>(DT_COMPTC)) <span class="sc">%&gt;%</span>  <span class="co"># Converte a data para o formato adequado</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(DT_COMPTC) <span class="sc">%&gt;%</span>  <span class="co"># Ordena as datas de competência</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CNPJ_FUNDO_CLASSE) <span class="sc">%&gt;%</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(last) <span class="sc">%&gt;%</span>  <span class="co"># Mantém apenas a última entrada por fundo</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">FUNDO_ESPELHO =</span> <span class="fu">case_when</span>(</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(FUNDO_ESPELHO) <span class="sc">~</span> <span class="st">"Não"</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>      FUNDO_ESPELHO <span class="sc">==</span> <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Não"</span>,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="st">"Sim"</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">FUNDO_COTAS =</span> <span class="fu">case_when</span>(</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>      FUNDO_COTAS <span class="sc">==</span> <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Não"</span>,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="st">"Sim"</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(POLIT_INVEST, FUNDO_ESPELHO, FUNDO_COTAS) <span class="sc">%&gt;%</span> </span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Política de Investimento</span><span class="st">`</span> <span class="ot">=</span> POLIT_INVEST,</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Fundo Espelho</span><span class="st">`</span> <span class="ot">=</span> FUNDO_ESPELHO,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Fundo de Cotas</span><span class="st">`</span> <span class="ot">=</span> FUNDO_COTAS,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">Quantidade =</span> n</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reactable</span>(</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">pagination =</span> <span class="cn">FALSE</span>,  <span class="co"># Desativa a paginação</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">resizable =</span> <span class="cn">TRUE</span>,  <span class="co"># Permite redimensionamento das colunas</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">list</span>(</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Política de Investimento</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">250</span>),  <span class="co"># Define largura da coluna</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Fundo Espelho</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">150</span>),  <span class="co"># Define largura da coluna</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Fundo de Cotas</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">150</span>),  <span class="co"># Define largura da coluna</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">Quantidade =</span> <span class="fu">colDef</span>(</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="st">"right"</span>,  <span class="co"># Alinha os valores numéricos à direita</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">format =</span> <span class="fu">colFormat</span>(<span class="at">separators =</span> <span class="cn">TRUE</span>),  <span class="co"># Formata os números com separadores de milhar</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">footer =</span> <span class="cf">function</span>(values) {  <span class="co"># Adiciona um rodapé à coluna Quantidade</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>          tags<span class="sc">$</span><span class="fu">b</span>(<span class="st">"Total: "</span>) <span class="sc">%&gt;%</span>  <span class="co"># Deixa a palavra "Total" em negrito</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>            <span class="fu">tagAppendChildren</span>(tags<span class="sc">$</span><span class="fu">span</span>(<span class="fu">sum</span>(values)))  <span class="co"># Exibe a soma total ao lado</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-32a8ebc6522163bc3b55" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-32a8ebc6522163bc3b55">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Política de Investimento":["ATIVA E NÃO-REFERENCIADA","ATIVA E NÃO-REFERENCIADA","ATIVA E NÃO-REFERENCIADA","ATIVA E REFERENCIADA","ATIVA E REFERENCIADA","ATIVA E REFERENCIADA","ENHANCED","ENHANCED","ENHANCED","PASSIVA","PASSIVA","PASSIVA"],"Fundo Espelho":["Não","Não","Sim","Não","Não","Sim","Não","Não","Sim","Não","Não","Sim"],"Fundo de Cotas":["Não","Sim","Sim","Não","Sim","Sim","Não","Sim","Sim","Não","Sim","Sim"],"Quantidade":[1522,577,81,881,246,44,25,11,1,333,358,16]},"columns":[{"id":"Política de Investimento","name":"Política de Investimento","type":"character","width":250},{"id":"Fundo Espelho","name":"Fundo Espelho","type":"character","width":150},{"id":"Fundo de Cotas","name":"Fundo de Cotas","type":"character","width":150},{"id":"Quantidade","name":"Quantidade","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"footer":{"name":"b","attribs":{},"children":["Total: ",{"name":"span","attribs":{},"children":["4095"]}]},"align":"right"}],"resizable":true,"pagination":false,"dataKey":"fc2d69de171f9bae969d256ebc76d725"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Ao tratarmos sobre as <strong>Política de Investimento dos fundos</strong>, juntamente com as características <strong>Fundo Espelho</strong> e <strong>Fundo de Cotas</strong>, podemos ver claramente uma concentração predominante nos fundos com gestão “Ativa e Não-Referenciada”, especialmente aqueles que não são fundos espelho nem fundos de cotas, com um total expressivo de 1.522 fundos. A seguir, destacam-se fundos com a mesma política de gestão, mas que são fundos de cotas (577 fundos).</p>
<p>Outro grupo com alta representatividade são os fundos com política de investimento <strong>Ativa e Referenciada</strong>, principalmente aqueles que não são fundos espelho nem de cotas (881 fundos), seguidos por aqueles que são fundos de cotas (246 fundos). Ainda nessa política de gestão, há uma menor presença dos fundos que são ao mesmo tempo fundos espelho e fundos de cotas, com apenas 44 fundos.</p>
<p>Entre os fundos com política <strong>Passiva</strong>, percebe-se uma divisão mais equilibrada entre aqueles que são fundos de cotas (358 fundos) e os que não são (333 fundos). Já na categoria <strong>Enhanced</strong>, há uma participação bastante reduzida, sendo apenas 25 fundos não espelho e não fundos de cotas, 11 fundos que são apenas fundos de cotas, e apenas 1 fundo que combina ambas características.</p>
<p>Como podemos ver, o número de fundos foi reduzido em cerca de 800. Isso se deve ao fato de termos filtrado os fundos que não possuíam dados referentes à política de investimento, os quais foram removidos, mantendo essa filtragem ao longo da análise. A ideia é termos uma amostra mais concisa, tratando apenas dos fundos que possuem todas as informações disponíveis, a fim de garantir uma comparação mais justa entre os fundos de investimento.</p>
<p>No geral, fica clara a preferência dos gestores e investidores pela política de gestão ativa, sobretudo não referenciada, enquanto estratégias mais específicas e menos convencionais, como a gestão “Enhanced” ou fundos espelho com cotas, mantêm representatividade bastante limitada. Esses dados indicam que o mercado brasileiro de fundos ainda prioriza estratégias tradicionais e ativas de investimento. Ainda mais surpreendente é o fato de priorizarem a característica de fundos não referenciados, considerando a própria natureza do mercado de renda fixa, no qual os juros são a principal referência.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>extrato_fi <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CNPJ_FUNDO_CLASSE <span class="sc">%in%</span> <span class="fu">distinct</span>(fundos_rf, CNPJ_FUNDO)<span class="sc">$</span>CNPJ_FUNDO) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(DT_COMPTC, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>           CNPJ_FUNDO_CLASSE, </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>           POLIT_INVEST, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>           EXISTE_TAXA_INGRESSO, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>           EXISTE_TAXA_PERFM, </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>           EXISTE_TAXA_SAIDA) <span class="sc">%&gt;%</span> </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(POLIT_INVEST, </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        EXISTE_TAXA_INGRESSO, </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>        EXISTE_TAXA_PERFM, </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>        EXISTE_TAXA_SAIDA) <span class="sc">%&gt;%</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">EXISTE_TAXA_INGRESSO =</span> <span class="fu">case_match</span>(</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>      EXISTE_TAXA_INGRESSO, </span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"S"</span> <span class="sc">~</span> <span class="st">"Sim"</span>, </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Não"</span>, </span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> EXISTE_TAXA_INGRESSO),</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">EXISTE_TAXA_PERFM =</span> <span class="fu">case_match</span>(</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>      EXISTE_TAXA_PERFM, </span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">"S"</span> <span class="sc">~</span> <span class="st">"Sim"</span>, </span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>      <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Não"</span>, </span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> EXISTE_TAXA_PERFM),</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">EXISTE_TAXA_SAIDA =</span> <span class="fu">case_match</span>(</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>      EXISTE_TAXA_SAIDA, </span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>      <span class="st">"S"</span> <span class="sc">~</span> <span class="st">"Sim"</span>, </span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>      <span class="st">"N"</span> <span class="sc">~</span> <span class="st">"Não"</span>, </span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> EXISTE_TAXA_SAIDA)</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Política de Investimento</span><span class="st">`</span> <span class="ot">=</span> POLIT_INVEST,</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Taxa de Ingresso</span><span class="st">`</span> <span class="ot">=</span> EXISTE_TAXA_INGRESSO,</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Taxa de Performance</span><span class="st">`</span> <span class="ot">=</span> EXISTE_TAXA_PERFM,</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Taxa de Saída</span><span class="st">`</span> <span class="ot">=</span> EXISTE_TAXA_SAIDA,</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">Quantidade =</span> n</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reactable</span>(</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">pagination =</span> <span class="cn">FALSE</span>,  <span class="co"># Desativa a paginação</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">resizable =</span> <span class="cn">TRUE</span>,  <span class="co"># Permite redimensionamento das colunas</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">list</span>(</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Política de Investimento</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">300</span>),  <span class="co"># Define largura da coluna</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Taxa de Ingresso</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">120</span>),  <span class="co"># Define largura da coluna</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Taxa de Performance</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">120</span>),  <span class="co"># Define largura da coluna</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Taxa de Saída</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">colDef</span>(<span class="at">width =</span> <span class="dv">120</span>),  <span class="co"># Define largura da coluna</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">Quantidade =</span> <span class="fu">colDef</span>(</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="st">"right"</span>,  <span class="co"># Alinha os valores numéricos à direita</span></span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">format =</span> <span class="fu">colFormat</span>(<span class="at">separators =</span> <span class="cn">TRUE</span>),  <span class="co"># Formata os números com separadores de milhar</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">footer =</span> <span class="cf">function</span>(values) {  <span class="co"># Adiciona um rodapé à coluna Quantidade</span></span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>          tags<span class="sc">$</span><span class="fu">b</span>(<span class="st">"Total: "</span>) <span class="sc">%&gt;%</span>  <span class="co"># Deixa a palavra "Total" em negrito</span></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>            <span class="fu">tagAppendChildren</span>(tags<span class="sc">$</span><span class="fu">span</span>(<span class="fu">sum</span>(values)))  <span class="co"># Exibe a soma total ao lado</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-3e093ae5e6f69182e638" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3e093ae5e6f69182e638">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Política de Investimento":["ATIVA E NÃO-REFERENCIADA","ATIVA E NÃO-REFERENCIADA","ATIVA E NÃO-REFERENCIADA","ATIVA E NÃO-REFERENCIADA","ATIVA E REFERENCIADA","ATIVA E REFERENCIADA","ATIVA E REFERENCIADA","ATIVA E REFERENCIADA","ENHANCED","ENHANCED","PASSIVA","PASSIVA","PASSIVA","PASSIVA"],"Taxa de Ingresso":["Não","Não","Não","Não","Não","Não","Não","Não","Não","Não","Não","Não","Não","Não"],"Taxa de Performance":["Não","Não","Sim","Sim","Não","Não","Sim","Sim","Não","Sim","Não","Não","Sim","Sim"],"Taxa de Saída":["Não","Sim","Não","Sim","Não","Sim","Não","Sim","Não","Não","Não","Sim","Não","Sim"],"Quantidade":[1757,12,407,4,803,2,362,4,35,2,669,4,32,2]},"columns":[{"id":"Política de Investimento","name":"Política de Investimento","type":"character","width":300},{"id":"Taxa de Ingresso","name":"Taxa de Ingresso","type":"character","width":120},{"id":"Taxa de Performance","name":"Taxa de Performance","type":"character","width":120},{"id":"Taxa de Saída","name":"Taxa de Saída","type":"character","width":120},{"id":"Quantidade","name":"Quantidade","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"footer":{"name":"b","attribs":{},"children":["Total: ",{"name":"span","attribs":{},"children":["4095"]}]},"align":"right"}],"resizable":true,"pagination":false,"dataKey":"440824a8b82361af56ea8ff549b6c716"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>A análise dos dados referentes às políticas de investimento e taxas associadas aos fundos revela uma expressiva predominância dos fundos com política de investimento <strong>“Ativa e Não-Referenciada”</strong> sem incidência de taxas, que totalizam <strong>1.757 fundos</strong>. Destacam-se também, nessa mesma categoria, os fundos que cobram taxa de performance (<strong>407 fundos</strong>). Contudo, a cobrança de taxa de saída permanece pouco utilizada nesses fundos, com apenas 12 casos sem taxa de performance e 4 fundos com ambas as taxas.</p>
<p>A segunda categoria mais representativa é composta pelos fundos com política <strong>“Ativa e Referenciada”</strong>, com destaque para fundos que não cobram taxas adicionais (<strong>803 fundos</strong>). Já a aplicação de taxas extras é menos frequente nessa política, indicando que gestores desses fundos preferem estruturas de custo mais simples ou tradicionais.</p>
<p>Por outro lado, os fundos de política <strong>“Passiva”</strong> aparecem em número intermediário, destacando-se aqueles que não têm taxas (<strong>669 fundos</strong>). A aplicação de taxa de performance também é pouco comum nessa categoria, contando com apenas <strong>35 fundos</strong>, enquanto a cobrança simultânea de taxa de performance e de saída ocorre em apenas 2 fundos.</p>
<p>Esses resultados indicam claramente que os fundos ativos são predominantes no mercado, especialmente os não-referenciados, sugerindo uma maior preferência dos investidores por estratégias flexíveis. Além disso, fundos com menor cobrança de taxas (taxa de ingresso, performance ou saída) apresentam uma quantidade significativamente superior, apontando uma preferência por estruturas mais simples em termos de custos associados ao investimento.</p>
<p>A seguir vamos ver o comportamento da captação destes fundos desde 2010.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>fundos_rf <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(POLIT_INVEST)) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(Competência <span class="ot">=</span> <span class="fu">as.yearqtr</span>(DT_COMPTC)) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Competência <span class="sc">&gt;=</span> <span class="st">"2010 Q1"</span> <span class="sc">&amp;</span> Competência <span class="sc">&lt;=</span> <span class="st">"2024 Q4"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    Captação <span class="ot">=</span> <span class="fu">sum</span>(CAPTC_DIA) <span class="sc">/</span> <span class="fl">1e9</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Resgates =</span> <span class="sc">-</span><span class="fu">sum</span>(RESG_DIA) <span class="sc">/</span> <span class="fl">1e9</span>,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"Competência"</span>, <span class="st">"Categoria ANBIMA"</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CAPTC_LIQ =</span> Captação <span class="sc">+</span> Resgates) <span class="sc">%&gt;%</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> <span class="st">"Categoria ANBIMA"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="st">"CAPTC_LIQ"</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Captação líquida</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Renda Fixa</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Competência) <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Captação líquida acumulada</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">cumsum</span>(<span class="st">`</span><span class="at">Captação líquida</span><span class="st">`</span>),</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>         Competência <span class="ot">=</span> <span class="fu">as.Date</span>(Competência)) <span class="sc">%&gt;%</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Competência) <span class="sc">%&gt;%</span> </span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_charts</span>(Competência) <span class="sc">%&gt;%</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_bar</span>(Captação, <span class="at">name =</span> <span class="st">"Captação"</span>, </span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"steelblue"</span>, </span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">stack =</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_bar</span>(Resgates, </span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"Resgates"</span>, </span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"tomato"</span>, </span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">stack =</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_line</span>(<span class="st">`</span><span class="at">Captação líquida</span><span class="st">`</span>, </span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">name =</span> <span class="st">"Captação líquida"</span>, </span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> <span class="st">"darkgreen"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_line</span>(<span class="st">`</span><span class="at">Captação líquida acumulada</span><span class="st">`</span>, </span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">name =</span> <span class="st">"Captação líquida acumulada"</span>, </span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> <span class="st">"purple"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_title</span>(</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="st">"Histórico de Captação"</span>,</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtext =</span> <span class="st">"Captação e Resgates com sua evolução trimestral desde o início de 2010"</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_legend</span>(<span class="at">right =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_tooltip</span>(<span class="at">trigger =</span> <span class="st">"axis"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_y_axis</span>(</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">axisLabel =</span> <span class="fu">list</span>(<span class="at">formatter =</span> <span class="fu">JS</span>(<span class="st">"function(value){ return value + ' B'; }"</span>))</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_x_axis</span>(<span class="at">axisLabel =</span> <span class="fu">list</span>(<span class="at">rotate =</span> <span class="dv">45</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_grid</span>(<span class="at">left =</span> <span class="st">"10%"</span>, <span class="at">right =</span> <span class="st">"10%"</span>) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="echarts4r html-widget html-fill-item" id="htmlwidget-8aeafbb7f68bd2938ef9" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-8aeafbb7f68bd2938ef9">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true,"axisLabel":{"formatter":"function(value){ return value + ' B'; }"}}],"xAxis":[{"data":["2010-01-01","2010-04-01","2010-07-01","2010-10-01","2011-01-01","2011-04-01","2011-07-01","2011-10-01","2012-01-01","2012-04-01","2012-07-01","2012-10-01","2013-01-01","2013-04-01","2013-07-01","2013-10-01","2014-01-01","2014-04-01","2014-07-01","2014-10-01","2015-01-01","2015-04-01","2015-07-01","2015-10-01","2016-01-01","2016-04-01","2016-07-01","2016-10-01","2017-01-01","2017-04-01","2017-07-01","2017-10-01","2018-01-01","2018-04-01","2018-07-01","2018-10-01","2019-01-01","2019-04-01","2019-07-01","2019-10-01","2020-01-01","2020-04-01","2020-07-01","2020-10-01","2021-01-01","2021-04-01","2021-07-01","2021-10-01","2022-01-01","2022-04-01","2022-07-01","2022-10-01","2023-01-01","2023-04-01","2023-07-01","2023-10-01","2024-01-01","2024-04-01","2024-07-01","2024-10-01"],"type":"time","boundaryGap":true,"axisLabel":{"rotate":45}}],"legend":{"data":["Captação","Resgates","Captação líquida","Captação líquida acumulada"],"show":true,"type":"plain","right":true},"series":[{"data":[{"value":["2010-01-01"," 412.4973"]},{"value":["2010-04-01"," 423.7346"]},{"value":["2010-07-01"," 426.5228"]},{"value":["2010-10-01"," 486.4662"]},{"value":["2011-01-01"," 480.5207"]},{"value":["2011-04-01"," 494.3387"]},{"value":["2011-07-01"," 518.5188"]},{"value":["2011-10-01"," 574.9335"]},{"value":["2012-01-01"," 615.4038"]},{"value":["2012-04-01"," 649.2923"]},{"value":["2012-07-01"," 639.3694"]},{"value":["2012-10-01"," 750.5661"]},{"value":["2013-01-01"," 845.2443"]},{"value":["2013-04-01"," 887.6388"]},{"value":["2013-07-01"," 841.8010"]},{"value":["2013-10-01"," 964.3029"]},{"value":["2014-01-01"," 980.4949"]},{"value":["2014-04-01"," 977.4531"]},{"value":["2014-07-01","1259.4167"]},{"value":["2014-10-01","1371.3172"]},{"value":["2015-01-01","1304.7522"]},{"value":["2015-04-01","1347.5781"]},{"value":["2015-07-01","1211.8635"]},{"value":["2015-10-01","1313.8055"]},{"value":["2016-01-01","1307.8201"]},{"value":["2016-04-01","1303.5057"]},{"value":["2016-07-01","1326.1211"]},{"value":["2016-10-01","1541.7420"]},{"value":["2017-01-01","1576.7191"]},{"value":["2017-04-01","1592.8012"]},{"value":["2017-07-01","1776.5976"]},{"value":["2017-10-01","1815.9835"]},{"value":["2018-01-01","1794.3867"]},{"value":["2018-04-01","1972.8412"]},{"value":["2018-07-01","1979.3278"]},{"value":["2018-10-01","2176.0972"]},{"value":["2019-01-01","2054.6746"]},{"value":["2019-04-01","2253.9736"]},{"value":["2019-07-01","2440.3049"]},{"value":["2019-10-01","2892.4920"]},{"value":["2020-01-01","2593.8293"]},{"value":["2020-04-01","2331.5314"]},{"value":["2020-07-01","2808.3650"]},{"value":["2020-10-01","2763.9020"]},{"value":["2021-01-01","2756.2374"]},{"value":["2021-04-01","3019.1887"]},{"value":["2021-07-01","3414.1909"]},{"value":["2021-10-01","3498.6162"]},{"value":["2022-01-01","3392.9175"]},{"value":["2022-04-01","3450.9915"]},{"value":["2022-07-01","3321.9150"]},{"value":["2022-10-01","3189.5159"]},{"value":["2023-01-01","3337.2877"]},{"value":["2023-04-01","3102.4578"]},{"value":["2023-07-01","3188.7622"]},{"value":["2023-10-01","3286.5633"]},{"value":["2024-01-01","3310.9156"]},{"value":["2024-04-01","3568.9674"]},{"value":["2024-07-01","3883.7675"]},{"value":["2024-10-01","3805.3384"]}],"name":"Captação","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","color":"steelblue","stack":"total"},{"data":[{"value":["2010-01-01"," -385.0362"]},{"value":["2010-04-01"," -411.7997"]},{"value":["2010-07-01"," -422.9547"]},{"value":["2010-10-01"," -488.2741"]},{"value":["2011-01-01"," -443.2872"]},{"value":["2011-04-01"," -482.9982"]},{"value":["2011-07-01"," -501.9454"]},{"value":["2011-10-01"," -583.7391"]},{"value":["2012-01-01"," -542.8645"]},{"value":["2012-04-01"," -647.3611"]},{"value":["2012-07-01"," -635.2908"]},{"value":["2012-10-01"," -759.6450"]},{"value":["2013-01-01"," -786.4476"]},{"value":["2013-04-01"," -896.1641"]},{"value":["2013-07-01"," -844.2970"]},{"value":["2013-10-01"," -991.2313"]},{"value":["2014-01-01"," -946.7733"]},{"value":["2014-04-01"," -954.0589"]},{"value":["2014-07-01","-1199.2857"]},{"value":["2014-10-01","-1377.8211"]},{"value":["2015-01-01","-1260.9136"]},{"value":["2015-04-01","-1309.8917"]},{"value":["2015-07-01","-1224.0062"]},{"value":["2015-10-01","-1345.9492"]},{"value":["2016-01-01","-1238.0276"]},{"value":["2016-04-01","-1299.6987"]},{"value":["2016-07-01","-1296.1000"]},{"value":["2016-10-01","-1500.8934"]},{"value":["2017-01-01","-1449.5356"]},{"value":["2017-04-01","-1576.9070"]},{"value":["2017-07-01","-1710.4752"]},{"value":["2017-10-01","-1852.6341"]},{"value":["2018-01-01","-1747.9969"]},{"value":["2018-04-01","-1948.3172"]},{"value":["2018-07-01","-1940.3758"]},{"value":["2018-10-01","-2189.4467"]},{"value":["2019-01-01","-2033.5861"]},{"value":["2019-04-01","-2242.0729"]},{"value":["2019-07-01","-2402.3406"]},{"value":["2019-10-01","-3006.3127"]},{"value":["2020-01-01","-2701.6270"]},{"value":["2020-04-01","-2401.6979"]},{"value":["2020-07-01","-2627.5789"]},{"value":["2020-10-01","-2863.3845"]},{"value":["2021-01-01","-2650.3910"]},{"value":["2021-04-01","-2933.6673"]},{"value":["2021-07-01","-3215.6511"]},{"value":["2021-10-01","-3515.6877"]},{"value":["2022-01-01","-3279.7725"]},{"value":["2022-04-01","-3293.5506"]},{"value":["2022-07-01","-3351.9560"]},{"value":["2022-10-01","-3382.8007"]},{"value":["2023-01-01","-3352.7748"]},{"value":["2023-04-01","-3204.2119"]},{"value":["2023-07-01","-3128.0846"]},{"value":["2023-10-01","-3335.4395"]},{"value":["2024-01-01","-3092.9725"]},{"value":["2024-04-01","-3497.9924"]},{"value":["2024-07-01","-3716.5558"]},{"value":["2024-10-01","-3991.0360"]}],"name":"Resgates","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","color":"tomato","stack":"total"},{"data":[{"value":["2010-01-01","  27.461128"]},{"value":["2010-04-01","  11.934816"]},{"value":["2010-07-01","   3.568133"]},{"value":["2010-10-01","  -1.807888"]},{"value":["2011-01-01","  37.233544"]},{"value":["2011-04-01","  11.340540"]},{"value":["2011-07-01","  16.573336"]},{"value":["2011-10-01","  -8.805586"]},{"value":["2012-01-01","  72.539346"]},{"value":["2012-04-01","   1.931174"]},{"value":["2012-07-01","   4.078651"]},{"value":["2012-10-01","  -9.078866"]},{"value":["2013-01-01","  58.796643"]},{"value":["2013-04-01","  -8.525235"]},{"value":["2013-07-01","  -2.495921"]},{"value":["2013-10-01"," -26.928391"]},{"value":["2014-01-01","  33.721654"]},{"value":["2014-04-01","  23.394243"]},{"value":["2014-07-01","  60.131043"]},{"value":["2014-10-01","  -6.503944"]},{"value":["2015-01-01","  43.838574"]},{"value":["2015-04-01","  37.686342"]},{"value":["2015-07-01"," -12.142664"]},{"value":["2015-10-01"," -32.143696"]},{"value":["2016-01-01","  69.792493"]},{"value":["2016-04-01","   3.807011"]},{"value":["2016-07-01","  30.021118"]},{"value":["2016-10-01","  40.848578"]},{"value":["2017-01-01"," 127.183482"]},{"value":["2017-04-01","  15.894168"]},{"value":["2017-07-01","  66.122386"]},{"value":["2017-10-01"," -36.650620"]},{"value":["2018-01-01","  46.389826"]},{"value":["2018-04-01","  24.524038"]},{"value":["2018-07-01","  38.951966"]},{"value":["2018-10-01"," -13.349468"]},{"value":["2019-01-01","  21.088502"]},{"value":["2019-04-01","  11.900776"]},{"value":["2019-07-01","  37.964294"]},{"value":["2019-10-01","-113.820700"]},{"value":["2020-01-01","-107.797738"]},{"value":["2020-04-01"," -70.166479"]},{"value":["2020-07-01"," 180.786156"]},{"value":["2020-10-01"," -99.482520"]},{"value":["2021-01-01"," 105.846351"]},{"value":["2021-04-01","  85.521414"]},{"value":["2021-07-01"," 198.539776"]},{"value":["2021-10-01"," -17.071539"]},{"value":["2022-01-01"," 113.145006"]},{"value":["2022-04-01"," 157.440881"]},{"value":["2022-07-01"," -30.040972"]},{"value":["2022-10-01","-193.284759"]},{"value":["2023-01-01"," -15.487056"]},{"value":["2023-04-01","-101.754087"]},{"value":["2023-07-01","  60.677621"]},{"value":["2023-10-01"," -48.876202"]},{"value":["2024-01-01"," 217.943130"]},{"value":["2024-04-01","  70.974933"]},{"value":["2024-07-01"," 167.211623"]},{"value":["2024-10-01","-185.697577"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"Captação líquida","type":"line","coordinateSystem":"cartesian2d","color":"darkgreen"},{"data":[{"value":["2010-01-01","  27.46113"]},{"value":["2010-04-01","  39.39594"]},{"value":["2010-07-01","  42.96408"]},{"value":["2010-10-01","  41.15619"]},{"value":["2011-01-01","  78.38973"]},{"value":["2011-04-01","  89.73027"]},{"value":["2011-07-01"," 106.30361"]},{"value":["2011-10-01","  97.49802"]},{"value":["2012-01-01"," 170.03737"]},{"value":["2012-04-01"," 171.96854"]},{"value":["2012-07-01"," 176.04719"]},{"value":["2012-10-01"," 166.96833"]},{"value":["2013-01-01"," 225.76497"]},{"value":["2013-04-01"," 217.23974"]},{"value":["2013-07-01"," 214.74382"]},{"value":["2013-10-01"," 187.81542"]},{"value":["2014-01-01"," 221.53708"]},{"value":["2014-04-01"," 244.93132"]},{"value":["2014-07-01"," 305.06237"]},{"value":["2014-10-01"," 298.55842"]},{"value":["2015-01-01"," 342.39700"]},{"value":["2015-04-01"," 380.08334"]},{"value":["2015-07-01"," 367.94067"]},{"value":["2015-10-01"," 335.79698"]},{"value":["2016-01-01"," 405.58947"]},{"value":["2016-04-01"," 409.39648"]},{"value":["2016-07-01"," 439.41760"]},{"value":["2016-10-01"," 480.26618"]},{"value":["2017-01-01"," 607.44966"]},{"value":["2017-04-01"," 623.34383"]},{"value":["2017-07-01"," 689.46622"]},{"value":["2017-10-01"," 652.81560"]},{"value":["2018-01-01"," 699.20542"]},{"value":["2018-04-01"," 723.72946"]},{"value":["2018-07-01"," 762.68143"]},{"value":["2018-10-01"," 749.33196"]},{"value":["2019-01-01"," 770.42046"]},{"value":["2019-04-01"," 782.32124"]},{"value":["2019-07-01"," 820.28553"]},{"value":["2019-10-01"," 706.46483"]},{"value":["2020-01-01"," 598.66709"]},{"value":["2020-04-01"," 528.50061"]},{"value":["2020-07-01"," 709.28677"]},{"value":["2020-10-01"," 609.80425"]},{"value":["2021-01-01"," 715.65060"]},{"value":["2021-04-01"," 801.17201"]},{"value":["2021-07-01"," 999.71179"]},{"value":["2021-10-01"," 982.64025"]},{"value":["2022-01-01","1095.78526"]},{"value":["2022-04-01","1253.22614"]},{"value":["2022-07-01","1223.18517"]},{"value":["2022-10-01","1029.90041"]},{"value":["2023-01-01","1014.41335"]},{"value":["2023-04-01"," 912.65926"]},{"value":["2023-07-01"," 973.33689"]},{"value":["2023-10-01"," 924.46068"]},{"value":["2024-01-01","1142.40381"]},{"value":["2024-04-01","1213.37875"]},{"value":["2024-07-01","1380.59037"]},{"value":["2024-10-01","1194.89279"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"Captação líquida acumulada","type":"line","coordinateSystem":"cartesian2d","color":"purple"}],"title":[{"text":"Histórico de Captação","subtext":"Captação e Resgates com sua evolução trimestral desde o início de 2010"}],"tooltip":{"trigger":"axis"},"grid":[{"left":"10%","right":"10%"}]},"dispose":true},"evals":["opts.yAxis.0.axisLabel.formatter"],"jsHooks":[]}</script>
</div>
</div>
<p>Desde o início de 2010, o mercado de fundos de investimento tem apresentado um crescimento expressivo, evidenciado pelo aumento contínuo dos volumes de captação e resgates. Esse comportamento reflete a crescente participação dos investidores nesse segmento, com um aumento da movimentação financeira ao longo dos anos.</p>
<p>Ao analisar a captação líquida, observamos que, embora haja oscilações ao longo do tempo, os fluxos de entrada e saída se mantêm relativamente equilibrados. Esse comportamento sugere que, apesar de períodos de maior atratividade dos fundos e momentos de maior aversão ao risco por parte dos investidores, o mercado tem demonstrado resiliência.</p>
<p>A captação líquida acumulada, por sua vez, segue uma trajetória ascendente, indicando que, no agregado, a captação tem superado os resgates. Essa tendência reflete um aumento estrutural no volume de recursos alocados em fundos de investimento, impulsionado por fatores como o amadurecimento do mercado financeiro, a diversificação dos produtos disponíveis e o maior interesse dos investidores institucionais e individuais.</p>
<p>A crise decorrente da pandemia da COVID-19, por volta de 2020, teve um impacto significativo no comportamento dos fluxos financeiros. Nesse período, houve uma queda na captação líquida acumulada, sinalizando uma maior retirada de recursos em um contexto de incerteza econômica global. No entanto, nos anos subsequentes, observou-se uma retomada no crescimento, indicando um processo de recuperação do setor.</p>
<p>Nos últimos anos, nota-se ainda um aumento na volatilidade da captação líquida, o que pode estar relacionado a fatores macroeconômicos, como oscilações nas taxas de juros, mudanças regulatórias e o próprio comportamento dos investidores em relação ao cenário econômico. Esse padrão reforça a necessidade de uma análise constante do setor, especialmente no que diz respeito às estratégias de captação e retenção de recursos por parte das gestoras de fundos.</p>
<p>Dessa forma, a evolução da captação e dos resgates demonstra não apenas a expansão do mercado de fundos no Brasil, mas também a sua capacidade de adaptação diante de diferentes cenários econômicos.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>fundos_rf <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(POLIT_INVEST)) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(Competência <span class="ot">=</span> <span class="fu">as.yearqtr</span>(DT_COMPTC)) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Competência <span class="sc">&gt;=</span> <span class="st">"2010 Q1"</span> <span class="sc">&amp;</span> Competência <span class="sc">&lt;=</span> <span class="st">"2024 Q4"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Livre Crédito Livre"</span>,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Livre Grau de Investimento"</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Baixa Grau de Investimento"</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Livre Soberano"</span>,</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Baixa Soberano"</span>,</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Indexados"</span>,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Simples"</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Outros"</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    Captação <span class="ot">=</span> <span class="fu">sum</span>(CAPTC_DIA) <span class="sc">/</span> <span class="fl">1e9</span>,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">Resgates =</span> <span class="sc">-</span><span class="fu">sum</span>(RESG_DIA) <span class="sc">/</span> <span class="fl">1e9</span>,</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"Competência"</span>, <span class="st">"Tipo ANBIMA"</span>)</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">CAPTC_LIQ =</span> Captação <span class="sc">+</span> Resgates,</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>    Competência <span class="ot">=</span> <span class="fu">as.Date</span>(Competência)</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Competência) <span class="sc">%&gt;%</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_charts</span>(Competência) <span class="sc">%&gt;%</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_bar</span>(CAPTC_LIQ, <span class="at">stack =</span> <span class="st">"total"</span>, <span class="at">series =</span> <span class="st">"Tipo ANBIMA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_tooltip</span>(<span class="at">trigger =</span> <span class="st">"axis"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_title</span>(<span class="st">"Captação Líquida por Tipo ANBIMA ao Longo do Tempo"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_x_axis</span>(<span class="at">name =</span> <span class="st">"Competência"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_y_axis</span>(<span class="at">name =</span> <span class="st">"Captação Líquida (em bilhões)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_legend</span>(</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">orient =</span> <span class="st">"horizontal"</span>,</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">bottom =</span> <span class="dv">10</span>,</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">left =</span> <span class="st">"center"</span></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_grid</span>(</span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">bottom =</span> <span class="dv">120</span>,  <span class="co"># espaço extra pra caber legenda</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">right =</span> <span class="dv">0</span>,</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">top =</span> <span class="dv">60</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="echarts4r html-widget html-fill-item" id="htmlwidget-868e1a50a5d6222ddbaa" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-868e1a50a5d6222ddbaa">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true,"name":"Captação Líquida (em bilhões)"}],"xAxis":[{"data":["2010-01-01","2010-04-01","2010-07-01","2010-10-01","2011-01-01","2011-04-01","2011-07-01","2011-10-01","2012-01-01","2012-04-01","2012-07-01","2012-10-01","2013-01-01","2013-04-01","2013-07-01","2013-10-01","2014-01-01","2014-04-01","2014-07-01","2014-10-01","2015-01-01","2015-04-01","2015-07-01","2015-10-01","2016-01-01","2016-04-01","2016-07-01","2016-10-01","2017-01-01","2017-04-01","2017-07-01","2017-10-01","2018-01-01","2018-04-01","2018-07-01","2018-10-01","2019-01-01","2019-04-01","2019-07-01","2019-10-01","2020-01-01","2020-04-01","2020-07-01","2020-10-01","2021-01-01","2021-04-01","2021-07-01","2021-10-01","2022-01-01","2022-04-01","2022-07-01","2022-10-01","2023-01-01","2023-04-01","2023-07-01","2023-10-01","2024-01-01","2024-04-01","2024-07-01","2024-10-01"],"type":"time","boundaryGap":true,"name":"Competência"}],"legend":{"data":["Outros","Renda Fixa Duração Baixa Grau de Investimento","Renda Fixa Duração Baixa Soberano","Renda Fixa Duração Livre Crédito Livre","Renda Fixa Duração Livre Grau de Investimento","Renda Fixa Duração Livre Soberano","Renda Fixa Indexados","Renda Fixa Simples"],"show":true,"type":"plain","orient":"horizontal","bottom":10,"left":"center"},"series":[{"data":[{"value":["2010-01-01"," -1.1373846"]},{"value":["2010-04-01"," -1.2105082"]},{"value":["2010-07-01"," -1.7183317"]},{"value":["2010-10-01"," -1.4482525"]},{"value":["2011-01-01"," -0.9871658"]},{"value":["2011-04-01","  2.9646419"]},{"value":["2011-07-01","  3.1961271"]},{"value":["2011-10-01","  3.1880913"]},{"value":["2012-01-01","  4.7700631"]},{"value":["2012-04-01","  1.9882657"]},{"value":["2012-07-01","  0.2629582"]},{"value":["2012-10-01","  0.8585755"]},{"value":["2013-01-01","  4.9277909"]},{"value":["2013-04-01","-10.7861737"]},{"value":["2013-07-01","-10.3076736"]},{"value":["2013-10-01"," -3.1313561"]},{"value":["2014-01-01"," -1.8269838"]},{"value":["2014-04-01"," -0.9309020"]},{"value":["2014-07-01","  0.1140953"]},{"value":["2014-10-01"," -7.0596510"]},{"value":["2015-01-01","  2.7397429"]},{"value":["2015-04-01","  3.0879621"]},{"value":["2015-07-01","  3.3986130"]},{"value":["2015-10-01"," -0.4960699"]},{"value":["2016-01-01","  4.7991468"]},{"value":["2016-04-01","  3.8585455"]},{"value":["2016-07-01","  8.0064529"]},{"value":["2016-10-01","  9.1238675"]},{"value":["2017-01-01"," 14.0547185"]},{"value":["2017-04-01","  7.1976867"]},{"value":["2017-07-01","  4.4283780"]},{"value":["2017-10-01"," -7.4933277"]},{"value":["2018-01-01","  1.4798261"]},{"value":["2018-04-01"," -3.5099375"]},{"value":["2018-07-01"," -7.0818596"]},{"value":["2018-10-01"," -4.7874342"]},{"value":["2019-01-01"," -2.0922774"]},{"value":["2019-04-01","  1.1648066"]},{"value":["2019-07-01","  1.7785165"]},{"value":["2019-10-01","-21.5320433"]},{"value":["2020-01-01","-22.4121662"]},{"value":["2020-04-01","-19.3954333"]},{"value":["2020-07-01"," -5.2289537"]},{"value":["2020-10-01","  0.1410681"]},{"value":["2021-01-01","  1.1984836"]},{"value":["2021-04-01"," 16.1797005"]},{"value":["2021-07-01"," 15.9200860"]},{"value":["2021-10-01","  7.5337104"]},{"value":["2022-01-01","  2.5875682"]},{"value":["2022-04-01","  5.7303098"]},{"value":["2022-07-01"," 21.9680802"]},{"value":["2022-10-01"," -1.3379477"]},{"value":["2023-01-01","-21.4985227"]},{"value":["2023-04-01"," -2.8888347"]},{"value":["2023-07-01"," 11.2876862"]},{"value":["2023-10-01","  4.9972860"]},{"value":["2024-01-01"," 33.7754455"]},{"value":["2024-04-01"," 25.3599370"]},{"value":["2024-07-01"," 23.2399467"]},{"value":["2024-10-01","  7.2958967"]}],"name":"Outros","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01","  10.551800"]},{"value":["2010-04-01","   4.987350"]},{"value":["2010-07-01","   2.635260"]},{"value":["2010-10-01","  -2.064212"]},{"value":["2011-01-01","   8.964097"]},{"value":["2011-04-01","   4.686889"]},{"value":["2011-07-01","  12.327912"]},{"value":["2011-10-01"," -10.426466"]},{"value":["2012-01-01","  25.893705"]},{"value":["2012-04-01"," -13.124787"]},{"value":["2012-07-01","  -4.745161"]},{"value":["2012-10-01"," -17.827855"]},{"value":["2013-01-01","   4.000826"]},{"value":["2013-04-01","  24.617483"]},{"value":["2013-07-01","  32.140208"]},{"value":["2013-10-01","   3.442132"]},{"value":["2014-01-01","  18.202184"]},{"value":["2014-04-01","  25.369939"]},{"value":["2014-07-01","  41.718259"]},{"value":["2014-10-01","  23.701450"]},{"value":["2015-01-01","  16.376099"]},{"value":["2015-04-01","  24.038808"]},{"value":["2015-07-01","  11.462491"]},{"value":["2015-10-01","  -1.376520"]},{"value":["2016-01-01","  36.798239"]},{"value":["2016-04-01","  -7.689160"]},{"value":["2016-07-01","  31.724790"]},{"value":["2016-10-01","  -3.898126"]},{"value":["2017-01-01","  11.290473"]},{"value":["2017-04-01","  23.243451"]},{"value":["2017-07-01","  37.129292"]},{"value":["2017-10-01","  -7.631977"]},{"value":["2018-01-01"," -12.269910"]},{"value":["2018-04-01","  36.501540"]},{"value":["2018-07-01","  40.948910"]},{"value":["2018-10-01"," -14.161170"]},{"value":["2019-01-01"," -27.124879"]},{"value":["2019-04-01"," -29.703517"]},{"value":["2019-07-01"," -42.868509"]},{"value":["2019-10-01"," -97.287459"]},{"value":["2020-01-01","-136.638757"]},{"value":["2020-04-01","-122.690712"]},{"value":["2020-07-01","  -6.359656"]},{"value":["2020-10-01"," -62.870300"]},{"value":["2021-01-01"," -23.442404"]},{"value":["2021-04-01","  22.913022"]},{"value":["2021-07-01","  60.000510"]},{"value":["2021-10-01","  43.669497"]},{"value":["2022-01-01","  38.480304"]},{"value":["2022-04-01","   3.516686"]},{"value":["2022-07-01","  25.973743"]},{"value":["2022-10-01"," -43.551782"]},{"value":["2023-01-01"," -67.862345"]},{"value":["2023-04-01"," -40.109051"]},{"value":["2023-07-01","  22.574962"]},{"value":["2023-10-01","   2.368304"]},{"value":["2024-01-01","  44.614647"]},{"value":["2024-04-01","  46.744602"]},{"value":["2024-07-01","  62.026460"]},{"value":["2024-10-01"," -31.445532"]}],"name":"Renda Fixa Duração Baixa Grau de Investimento","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01","  11.7385132"]},{"value":["2010-04-01","   2.3023430"]},{"value":["2010-07-01","  -3.1512218"]},{"value":["2010-10-01","  -9.3439281"]},{"value":["2011-01-01","  21.1250842"]},{"value":["2011-04-01","   2.6417734"]},{"value":["2011-07-01","  -4.4694096"]},{"value":["2011-10-01","  -7.0398334"]},{"value":["2012-01-01","  13.9333870"]},{"value":["2012-04-01","  -0.6159220"]},{"value":["2012-07-01","  -7.0153484"]},{"value":["2012-10-01","  -2.3690570"]},{"value":["2013-01-01","  36.5524624"]},{"value":["2013-04-01","   3.6521812"]},{"value":["2013-07-01","  -9.2294831"]},{"value":["2013-10-01"," -11.6035539"]},{"value":["2014-01-01","  25.0318630"]},{"value":["2014-04-01","   1.8854139"]},{"value":["2014-07-01","  12.5684120"]},{"value":["2014-10-01"," -17.1407348"]},{"value":["2015-01-01","  24.2837452"]},{"value":["2015-04-01","   7.4619988"]},{"value":["2015-07-01"," -19.9197074"]},{"value":["2015-10-01"," -11.1758347"]},{"value":["2016-01-01","  18.1867709"]},{"value":["2016-04-01","   3.9509752"]},{"value":["2016-07-01"," -25.2959909"]},{"value":["2016-10-01","  26.4128200"]},{"value":["2017-01-01","  42.4394749"]},{"value":["2017-04-01"," -19.3113623"]},{"value":["2017-07-01","  -1.2746862"]},{"value":["2017-10-01"," -18.0354452"]},{"value":["2018-01-01","  39.2711389"]},{"value":["2018-04-01","  25.0133697"]},{"value":["2018-07-01","  -7.2543260"]},{"value":["2018-10-01","  -3.8625092"]},{"value":["2019-01-01","  27.5916933"]},{"value":["2019-04-01","  -9.7962897"]},{"value":["2019-07-01","   7.5012067"]},{"value":["2019-10-01","  -3.5673985"]},{"value":["2020-01-01","  80.7744402"]},{"value":["2020-04-01","  57.1151330"]},{"value":["2020-07-01"," 104.2232823"]},{"value":["2020-10-01"," -49.1474352"]},{"value":["2021-01-01"," 118.7510260"]},{"value":["2021-04-01","  30.2781258"]},{"value":["2021-07-01","  20.5258119"]},{"value":["2021-10-01","-133.0538696"]},{"value":["2022-01-01","  -3.2802963"]},{"value":["2022-04-01"," 200.4907633"]},{"value":["2022-07-01"," -81.3913641"]},{"value":["2022-10-01"," -86.0605652"]},{"value":["2023-01-01","  50.1441048"]},{"value":["2023-04-01"," -41.0801698"]},{"value":["2023-07-01","   8.2090728"]},{"value":["2023-10-01"," -11.2061287"]},{"value":["2024-01-01","  53.3210017"]},{"value":["2024-04-01","  -8.5530975"]},{"value":["2024-07-01","   0.5178205"]},{"value":["2024-10-01"," -92.4340242"]}],"name":"Renda Fixa Duração Baixa Soberano","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01","  0.3245110"]},{"value":["2010-04-01"," -0.3017675"]},{"value":["2010-07-01","  0.9193821"]},{"value":["2010-10-01","  0.6489073"]},{"value":["2011-01-01","  1.5058811"]},{"value":["2011-04-01","  2.1128137"]},{"value":["2011-07-01","  1.7606942"]},{"value":["2011-10-01","  1.0856689"]},{"value":["2012-01-01","  3.3314795"]},{"value":["2012-04-01","  2.3963188"]},{"value":["2012-07-01","  2.5771793"]},{"value":["2012-10-01","  1.1398675"]},{"value":["2013-01-01","  2.0153020"]},{"value":["2013-04-01","  7.8244209"]},{"value":["2013-07-01","  3.1391915"]},{"value":["2013-10-01","  2.8858568"]},{"value":["2014-01-01","  0.2482175"]},{"value":["2014-04-01"," -0.1823263"]},{"value":["2014-07-01","  0.7269287"]},{"value":["2014-10-01","  3.7050378"]},{"value":["2015-01-01"," -1.6473363"]},{"value":["2015-04-01"," -1.2526447"]},{"value":["2015-07-01","  0.9375713"]},{"value":["2015-10-01"," -3.7347200"]},{"value":["2016-01-01"," -6.1807435"]},{"value":["2016-04-01"," -4.7519016"]},{"value":["2016-07-01","  0.4885281"]},{"value":["2016-10-01"," -0.1031995"]},{"value":["2017-01-01","  4.2975644"]},{"value":["2017-04-01"," -1.7001286"]},{"value":["2017-07-01","  7.6383239"]},{"value":["2017-10-01"," -0.4527210"]},{"value":["2018-01-01","  0.3223627"]},{"value":["2018-04-01"," -2.3326109"]},{"value":["2018-07-01","  4.2208526"]},{"value":["2018-10-01","  7.9853430"]},{"value":["2019-01-01","  9.4773008"]},{"value":["2019-04-01"," 11.0583244"]},{"value":["2019-07-01"," 23.3281516"]},{"value":["2019-10-01"," -3.4891504"]},{"value":["2020-01-01","-18.8186265"]},{"value":["2020-04-01","-17.5939930"]},{"value":["2020-07-01","  7.7371653"]},{"value":["2020-10-01","  3.9349573"]},{"value":["2021-01-01","  8.0493671"]},{"value":["2021-04-01","  9.3347112"]},{"value":["2021-07-01"," 21.9635228"]},{"value":["2021-10-01","  9.7051091"]},{"value":["2022-01-01","  7.4928863"]},{"value":["2022-04-01"," 16.8334546"]},{"value":["2022-07-01"," 15.0280658"]},{"value":["2022-10-01","  3.2597401"]},{"value":["2023-01-01","-15.6290756"]},{"value":["2023-04-01","  2.6627325"]},{"value":["2023-07-01"," 39.7679421"]},{"value":["2023-10-01"," 47.9037392"]},{"value":["2024-01-01"," 49.5290181"]},{"value":["2024-04-01"," 57.0469429"]},{"value":["2024-07-01"," 69.1929617"]},{"value":["2024-10-01"," 14.1241207"]}],"name":"Renda Fixa Duração Livre Crédito Livre","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01"," -2.129658219"]},{"value":["2010-04-01","  2.588527578"]},{"value":["2010-07-01"," -0.172588995"]},{"value":["2010-10-01","  3.427409135"]},{"value":["2011-01-01","  4.661764433"]},{"value":["2011-04-01"," -5.431985423"]},{"value":["2011-07-01","  1.868932624"]},{"value":["2011-10-01"," -2.131952873"]},{"value":["2012-01-01"," 15.359722762"]},{"value":["2012-04-01"," -0.700439119"]},{"value":["2012-07-01","  1.175426494"]},{"value":["2012-10-01"," -3.708008565"]},{"value":["2013-01-01"," 12.265159044"]},{"value":["2013-04-01","-16.837177306"]},{"value":["2013-07-01","-13.541619264"]},{"value":["2013-10-01","-13.723422346"]},{"value":["2014-01-01"," -3.250646077"]},{"value":["2014-04-01"," -5.263445803"]},{"value":["2014-07-01"," -1.267257538"]},{"value":["2014-10-01"," -9.971642558"]},{"value":["2015-01-01"," -0.009896246"]},{"value":["2015-04-01","  3.033155875"]},{"value":["2015-07-01"," -3.166080957"]},{"value":["2015-10-01","-15.973201118"]},{"value":["2016-01-01","  7.105360227"]},{"value":["2016-04-01","  2.250970701"]},{"value":["2016-07-01","  4.201993339"]},{"value":["2016-10-01","  2.052514360"]},{"value":["2017-01-01"," 37.650356128"]},{"value":["2017-04-01","  0.399793307"]},{"value":["2017-07-01"," 11.564577340"]},{"value":["2017-10-01"," -2.273496454"]},{"value":["2018-01-01","  9.123262975"]},{"value":["2018-04-01","-16.969840194"]},{"value":["2018-07-01","  3.628825765"]},{"value":["2018-10-01","-10.367958054"]},{"value":["2019-01-01"," 11.878628979"]},{"value":["2019-04-01"," 13.669288437"]},{"value":["2019-07-01"," 19.273377285"]},{"value":["2019-10-01"," -7.183989949"]},{"value":["2020-01-01","-13.122254670"]},{"value":["2020-04-01","-14.349745138"]},{"value":["2020-07-01"," 35.594031544"]},{"value":["2020-10-01"," -7.235028407"]},{"value":["2021-01-01"," -0.492798847"]},{"value":["2021-04-01","-10.191407723"]},{"value":["2021-07-01"," -1.307627937"]},{"value":["2021-10-01"," 10.835306863"]},{"value":["2022-01-01"," 29.653135422"]},{"value":["2022-04-01"," 15.120026556"]},{"value":["2022-07-01"," 18.278069272"]},{"value":["2022-10-01","-24.986574017"]},{"value":["2023-01-01","  5.136177257"]},{"value":["2023-04-01","-25.962764273"]},{"value":["2023-07-01"," -4.621400001"]},{"value":["2023-10-01","-29.202176453"]},{"value":["2024-01-01"," 10.073929944"]},{"value":["2024-04-01"," -5.359357116"]},{"value":["2024-07-01"," 23.634948763"]},{"value":["2024-10-01","-23.643802745"]}],"name":"Renda Fixa Duração Livre Grau de Investimento","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01"," -0.04951528"]},{"value":["2010-04-01","  2.39640774"]},{"value":["2010-07-01","  2.32312969"]},{"value":["2010-10-01","  3.95515816"]},{"value":["2011-01-01"," -0.29451471"]},{"value":["2011-04-01","  2.34466972"]},{"value":["2011-07-01","  0.09232322"]},{"value":["2011-10-01","  1.09108282"]},{"value":["2012-01-01"," -0.21423200"]},{"value":["2012-04-01","  0.88211240"]},{"value":["2012-07-01"," -1.93035739"]},{"value":["2012-10-01"," -1.03846543"]},{"value":["2013-01-01","  0.36469678"]},{"value":["2013-04-01"," -0.28408430"]},{"value":["2013-07-01","  4.11082568"]},{"value":["2013-10-01","  1.02294304"]},{"value":["2014-01-01","  2.46341713"]},{"value":["2014-04-01"," -1.77795979"]},{"value":["2014-07-01","  2.60392103"]},{"value":["2014-10-01"," -1.66900697"]},{"value":["2015-01-01","  0.59102182"]},{"value":["2015-04-01","  1.51272772"]},{"value":["2015-07-01","  1.44139703"]},{"value":["2015-10-01"," -1.82105918"]},{"value":["2016-01-01","  2.24814115"]},{"value":["2016-04-01","  0.09344119"]},{"value":["2016-07-01","  0.94008152"]},{"value":["2016-10-01","  2.37193762"]},{"value":["2017-01-01"," -1.06106626"]},{"value":["2017-04-01","  1.50715875"]},{"value":["2017-07-01","  4.70190540"]},{"value":["2017-10-01"," -1.71153839"]},{"value":["2018-01-01","  0.97990028"]},{"value":["2018-04-01"," -3.86204159"]},{"value":["2018-07-01","  4.89127245"]},{"value":["2018-10-01"," -0.40691620"]},{"value":["2019-01-01","  1.49085964"]},{"value":["2019-04-01","  7.19686668"]},{"value":["2019-07-01","  2.18177056"]},{"value":["2019-10-01","  3.68675598"]},{"value":["2020-01-01"," -8.09068630"]},{"value":["2020-04-01","  3.94319624"]},{"value":["2020-07-01","  8.31809007"]},{"value":["2020-10-01"," -4.15227778"]},{"value":["2021-01-01"," 14.24938300"]},{"value":["2021-04-01"," 12.29822722"]},{"value":["2021-07-01"," -4.24818725"]},{"value":["2021-10-01"," -9.96189491"]},{"value":["2022-01-01"," 15.54973572"]},{"value":["2022-04-01"," -0.10433047"]},{"value":["2022-07-01"," -0.99508015"]},{"value":["2022-10-01"," -1.10124517"]},{"value":["2023-01-01","  3.70069938"]},{"value":["2023-04-01","  5.73287077"]},{"value":["2023-07-01","  5.69474371"]},{"value":["2023-10-01","-12.67721063"]},{"value":["2024-01-01","  4.20157862"]},{"value":["2024-04-01"," -8.17062417"]},{"value":["2024-07-01"," -5.88072839"]},{"value":["2024-10-01","-17.43180774"]}],"name":"Renda Fixa Duração Livre Soberano","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01","  8.227969348"]},{"value":["2010-04-01","  1.869795603"]},{"value":["2010-07-01","  3.854666264"]},{"value":["2010-10-01","  2.972495318"]},{"value":["2011-01-01","  2.595897039"]},{"value":["2011-04-01","  4.083681568"]},{"value":["2011-07-01","  1.337668317"]},{"value":["2011-10-01","  5.059672854"]},{"value":["2012-01-01","  9.261554670"]},{"value":["2012-04-01"," 10.840094457"]},{"value":["2012-07-01","  8.671753996"]},{"value":["2012-10-01"," 12.535182651"]},{"value":["2013-01-01"," -0.798496132"]},{"value":["2013-04-01","-16.073812947"]},{"value":["2013-07-01"," -8.455048703"]},{"value":["2013-10-01"," -6.636118081"]},{"value":["2014-01-01"," -7.309665130"]},{"value":["2014-04-01","  2.313694075"]},{"value":["2014-07-01","  2.360463381"]},{"value":["2014-10-01","  0.273040972"]},{"value":["2015-01-01","  0.105759632"]},{"value":["2015-04-01"," -2.951959323"]},{"value":["2015-07-01"," -4.673403088"]},{"value":["2015-10-01"," -1.617269584"]},{"value":["2016-01-01","  4.277829201"]},{"value":["2016-04-01","  5.479283756"]},{"value":["2016-07-01"," 11.367849025"]},{"value":["2016-10-01"," -0.212913775"]},{"value":["2017-01-01"," 14.693926169"]},{"value":["2017-04-01","  0.004532677"]},{"value":["2017-07-01","  2.323344541"]},{"value":["2017-10-01"," -3.726410992"]},{"value":["2018-01-01","  5.746685565"]},{"value":["2018-04-01","-14.797250575"]},{"value":["2018-07-01"," -1.389293910"]},{"value":["2018-10-01","  5.924269077"]},{"value":["2019-01-01","  1.722754992"]},{"value":["2019-04-01"," 11.383111964"]},{"value":["2019-07-01"," 19.970892071"]},{"value":["2019-10-01","  3.986918704"]},{"value":["2020-01-01","-11.403603734"]},{"value":["2020-04-01"," 15.410454344"]},{"value":["2020-07-01"," 22.624908880"]},{"value":["2020-10-01","  8.344049742"]},{"value":["2021-01-01","-24.744439696"]},{"value":["2021-04-01","-17.384654961"]},{"value":["2021-07-01","-16.441716967"]},{"value":["2021-10-01","-11.330974530"]},{"value":["2022-01-01","-17.976553327"]},{"value":["2022-04-01"," -3.565387533"]},{"value":["2022-07-01","-14.923372213"]},{"value":["2022-10-01"," -9.578338510"]},{"value":["2023-01-01"," -5.525895537"]},{"value":["2023-04-01"," 10.384950988"]},{"value":["2023-07-01"," -8.024699095"]},{"value":["2023-10-01"," -7.506120717"]},{"value":["2024-01-01","  0.354778343"]},{"value":["2024-04-01","-10.562864568"]},{"value":["2024-07-01"," -9.991385635"]},{"value":["2024-10-01","-14.028485363"]}],"name":"Renda Fixa Indexados","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01"," -0.06510775"]},{"value":["2010-04-01"," -0.69733160"]},{"value":["2010-07-01"," -1.12216235"]},{"value":["2010-10-01","  0.04453492"]},{"value":["2011-01-01"," -0.33749908"]},{"value":["2011-04-01"," -2.06194293"]},{"value":["2011-07-01","  0.45908866"]},{"value":["2011-10-01","  0.36815030"]},{"value":["2012-01-01","  0.20366623"]},{"value":["2012-04-01","  0.26553009"]},{"value":["2012-07-01","  5.08219940"]},{"value":["2012-10-01","  1.33089441"]},{"value":["2013-01-01"," -0.53109730"]},{"value":["2013-04-01"," -0.63807145"]},{"value":["2013-07-01"," -0.35232124"]},{"value":["2013-10-01","  0.81512849"]},{"value":["2014-01-01","  0.16326684"]},{"value":["2014-04-01","  1.97983050"]},{"value":["2014-07-01","  1.30622152"]},{"value":["2014-10-01","  1.65756315"]},{"value":["2015-01-01","  1.39943812"]},{"value":["2015-04-01","  2.75629406"]},{"value":["2015-07-01"," -1.62354556"]},{"value":["2015-10-01","  4.05097913"]},{"value":["2016-01-01","  2.55774869"]},{"value":["2016-04-01","  0.61485571"]},{"value":["2016-07-01"," -1.41258588"]},{"value":["2016-10-01","  5.10167779"]},{"value":["2017-01-01","  3.81803497"]},{"value":["2017-04-01","  4.55303631"]},{"value":["2017-07-01"," -0.38874897"]},{"value":["2017-10-01","  4.67429615"]},{"value":["2018-01-01","  1.73655970"]},{"value":["2018-04-01","  4.48081001"]},{"value":["2018-07-01","  0.98758471"]},{"value":["2018-10-01","  6.32690789"]},{"value":["2019-01-01"," -1.85557916"]},{"value":["2019-04-01","  6.92818547"]},{"value":["2019-07-01","  6.79888818"]},{"value":["2019-10-01"," 11.56566633"]},{"value":["2020-01-01"," 21.91391603"]},{"value":["2020-04-01"," 27.39462129"]},{"value":["2020-07-01"," 13.87728694"]},{"value":["2020-10-01"," 11.50244681"]},{"value":["2021-01-01"," 12.27773370"]},{"value":["2021-04-01"," 22.09369010"]},{"value":["2021-07-01","102.12737707"]},{"value":["2021-10-01"," 65.53157684"]},{"value":["2022-01-01"," 40.63822608"]},{"value":["2022-04-01","-80.58064188"]},{"value":["2022-07-01","-13.97911380"]},{"value":["2022-10-01","-29.92804646"]},{"value":["2023-01-01"," 36.04780175"]},{"value":["2023-04-01","-10.49382187"]},{"value":["2023-07-01","-14.21068723"]},{"value":["2023-10-01","-43.55389561"]},{"value":["2024-01-01"," 22.07273050"]},{"value":["2024-04-01","-25.53060481"]},{"value":["2024-07-01","  4.47159981"]},{"value":["2024-10-01","-28.13394209"]}],"name":"Renda Fixa Simples","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"}],"tooltip":{"trigger":"axis"},"title":[{"text":"Captação Líquida por Tipo ANBIMA ao Longo do Tempo"}],"grid":[{"bottom":120,"left":0,"right":0,"top":60}]},"dispose":true},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Nos primeiros anos do gráfico (2010 até cerca de 2016), a captação líquida se manteve relativamente estável, com oscilações modestas e predominância de entradas líquidas positivas. A partir de 2017, observa-se um aumento na volatilidade, com períodos de captação elevada, seguidos por momentos de fortes resgates. Essa tendência se intensifica após 2020, com variações muito mais expressivas entre meses ou trimestres.</p>
<p>Durante os anos de 2020 e 2021, destacam-se movimentos de captação extremamente positivos, especialmente nos fundos de <strong>Renda Fixa Duração Baixa Soberano</strong> e <strong>Renda Fixa Simples</strong>, que aparecem com barras altas e frequentes nesse período. No entanto, a partir de 2022, há uma mudança significativa, com diversos episódios de captação negativa, indicando grandes volumes de resgates — particularmente visíveis nas categorias de <strong>Renda Fixa Duração Baixa Soberano</strong>, <strong>Duração Livre Grau de Investimento</strong> e <strong>Renda Fixa Simples</strong>.</p>
<p>Esses resgates mais acentuados nos últimos anos podem estar associados a mudanças nas condições econômicas, como aumento da taxa de juros, inflação, ou reprecificação de ativos, levando investidores a buscar alternativas fora dos fundos de renda fixa tradicionais.</p>
<p>Em resumo, o gráfico revela que, embora o patrimônio líquido dos fundos de renda fixa tenha crescido ao longo do tempo (como visto no gráfico anterior), a captação líquida passou a oscilar mais fortemente nos últimos anos, com um padrão mais irregular e períodos marcantes de saídas de recursos. Essa dinâmica sugere um ambiente mais volátil e seletivo por parte dos investidores, influenciado pelas condições do mercado e pelas estratégias específicas de cada tipo de fundo.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>fundos_rf <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(POLIT_INVEST)) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(Competência <span class="ot">=</span> <span class="fu">as.yearqtr</span>(DT_COMPTC)) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Competência <span class="sc">&gt;=</span> <span class="st">"2010 Q1"</span> <span class="sc">&amp;</span> Competência <span class="sc">&lt;=</span> <span class="st">"2024 Q4"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Livre Crédito Livre"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Livre Grau de Investimento"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Baixa Grau de Investimento"</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Livre Soberano"</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Duração Baixa Soberano"</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Indexados"</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Renda Fixa Simples"</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Outros"</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Custódia</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(VL_PATRIM_LIQ),</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"Competência"</span>,<span class="st">"Tipo ANBIMA"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Competência) <span class="sc">%&gt;%</span> </span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(Competência <span class="ot">=</span> <span class="fu">as.Date</span>(Competência),</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Custódia</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Custódia</span><span class="st">`</span> <span class="sc">/</span> <span class="fl">1e9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_charts</span>(Competência) <span class="sc">%&gt;%</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_bar</span>(<span class="st">`</span><span class="at">Custódia</span><span class="st">`</span>,<span class="at">stack =</span> <span class="st">"total"</span>,<span class="at">series =</span> <span class="st">"Tipo ANBIMA"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_tooltip</span>(<span class="at">trigger =</span> <span class="st">"axis"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_title</span>(<span class="st">"Patrimônio Líquida por Tipo ANBIMA ao Longo do Tempo"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_x_axis</span>(<span class="at">name =</span> <span class="st">"Competência"</span>,<span class="at">type =</span> <span class="st">"time"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_y_axis</span>(<span class="at">name =</span> <span class="st">"Custódia (em bilhões)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_legend</span>(</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">orient =</span> <span class="st">"horizontal"</span>,</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">bottom =</span> <span class="dv">10</span>,</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">left =</span> <span class="st">"center"</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">e_grid</span>(</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">bottom =</span> <span class="dv">120</span>,</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">top =</span> <span class="dv">60</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="echarts4r html-widget html-fill-item" id="htmlwidget-b4d3064c028115b5b681" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-b4d3064c028115b5b681">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true,"name":"Custódia (em bilhões)"}],"xAxis":[{"data":["2010-01-01","2010-04-01","2010-07-01","2010-10-01","2011-01-01","2011-04-01","2011-07-01","2011-10-01","2012-01-01","2012-04-01","2012-07-01","2012-10-01","2013-01-01","2013-04-01","2013-07-01","2013-10-01","2014-01-01","2014-04-01","2014-07-01","2014-10-01","2015-01-01","2015-04-01","2015-07-01","2015-10-01","2016-01-01","2016-04-01","2016-07-01","2016-10-01","2017-01-01","2017-04-01","2017-07-01","2017-10-01","2018-01-01","2018-04-01","2018-07-01","2018-10-01","2019-01-01","2019-04-01","2019-07-01","2019-10-01","2020-01-01","2020-04-01","2020-07-01","2020-10-01","2021-01-01","2021-04-01","2021-07-01","2021-10-01","2022-01-01","2022-04-01","2022-07-01","2022-10-01","2023-01-01","2023-04-01","2023-07-01","2023-10-01","2024-01-01","2024-04-01","2024-07-01","2024-10-01"],"type":"time","boundaryGap":true,"name":"Competência"}],"legend":{"data":["Outros","Renda Fixa Duração Baixa Grau de Investimento","Renda Fixa Duração Baixa Soberano","Renda Fixa Duração Livre Crédito Livre","Renda Fixa Duração Livre Grau de Investimento","Renda Fixa Duração Livre Soberano","Renda Fixa Indexados","Renda Fixa Simples"],"show":true,"type":"plain","orient":"horizontal","bottom":10,"left":"center"},"series":[{"data":[{"value":["2010-01-01"," 6841.199"]},{"value":["2010-04-01"," 6995.844"]},{"value":["2010-07-01"," 7506.962"]},{"value":["2010-10-01"," 7415.028"]},{"value":["2011-01-01"," 7365.734"]},{"value":["2011-04-01"," 7610.778"]},{"value":["2011-07-01"," 8441.792"]},{"value":["2011-10-01"," 8542.670"]},{"value":["2012-01-01"," 9117.459"]},{"value":["2012-04-01"," 9564.849"]},{"value":["2012-07-01","10215.816"]},{"value":["2012-10-01","10180.753"]},{"value":["2013-01-01","10371.826"]},{"value":["2013-04-01","11052.561"]},{"value":["2013-07-01","10732.366"]},{"value":["2013-10-01","10030.188"]},{"value":["2014-01-01"," 9801.455"]},{"value":["2014-04-01","10046.288"]},{"value":["2014-07-01","11164.655"]},{"value":["2014-10-01","11001.072"]},{"value":["2015-01-01","10581.720"]},{"value":["2015-04-01","11060.823"]},{"value":["2015-07-01","12431.395"]},{"value":["2015-10-01","12624.372"]},{"value":["2016-01-01","12793.745"]},{"value":["2016-04-01","13922.425"]},{"value":["2016-07-01","15295.069"]},{"value":["2016-10-01","15381.819"]},{"value":["2017-01-01","16954.487"]},{"value":["2017-04-01","17585.017"]},{"value":["2017-07-01","19223.547"]},{"value":["2017-10-01","18636.253"]},{"value":["2018-01-01","18733.861"]},{"value":["2018-04-01","19670.323"]},{"value":["2018-07-01","19992.680"]},{"value":["2018-10-01","19372.762"]},{"value":["2019-01-01","19261.032"]},{"value":["2019-04-01","19917.537"]},{"value":["2019-07-01","21878.666"]},{"value":["2019-10-01","21187.700"]},{"value":["2020-01-01","19860.421"]},{"value":["2020-04-01","17572.495"]},{"value":["2020-07-01","18840.707"]},{"value":["2020-10-01","18053.857"]},{"value":["2021-01-01","17947.825"]},{"value":["2021-04-01","18964.095"]},{"value":["2021-07-01","21554.669"]},{"value":["2021-10-01","21836.222"]},{"value":["2022-01-01","22482.140"]},{"value":["2022-04-01","23477.841"]},{"value":["2022-07-01","26204.298"]},{"value":["2022-10-01","26487.243"]},{"value":["2023-01-01","26753.447"]},{"value":["2023-04-01","25516.980"]},{"value":["2023-07-01","28097.310"]},{"value":["2023-10-01","27983.383"]},{"value":["2024-01-01","29824.894"]},{"value":["2024-04-01","33453.640"]},{"value":["2024-07-01","37811.182"]},{"value":["2024-10-01","38002.730"]}],"name":"Outros","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01","17287.45"]},{"value":["2010-04-01","18401.64"]},{"value":["2010-07-01","20078.32"]},{"value":["2010-10-01","20142.87"]},{"value":["2011-01-01","20389.08"]},{"value":["2011-04-01","21348.56"]},{"value":["2011-07-01","23640.76"]},{"value":["2011-10-01","23165.61"]},{"value":["2012-01-01","24344.18"]},{"value":["2012-04-01","25081.70"]},{"value":["2012-07-01","26046.62"]},{"value":["2012-10-01","24863.97"]},{"value":["2013-01-01","23781.62"]},{"value":["2013-04-01","26242.38"]},{"value":["2013-07-01","29997.48"]},{"value":["2013-10-01","30746.01"]},{"value":["2014-01-01","30980.93"]},{"value":["2014-04-01","33021.20"]},{"value":["2014-07-01","38943.24"]},{"value":["2014-10-01","41956.28"]},{"value":["2015-01-01","41993.67"]},{"value":["2015-04-01","43421.52"]},{"value":["2015-07-01","49211.06"]},{"value":["2015-10-01","49302.10"]},{"value":["2016-01-01","49776.48"]},{"value":["2016-04-01","54565.85"]},{"value":["2016-07-01","59242.80"]},{"value":["2016-10-01","59153.94"]},{"value":["2017-01-01","62532.99"]},{"value":["2017-04-01","62400.98"]},{"value":["2017-07-01","70490.02"]},{"value":["2017-10-01","68742.04"]},{"value":["2018-01-01","69009.83"]},{"value":["2018-04-01","72325.78"]},{"value":["2018-07-01","77763.03"]},{"value":["2018-10-01","77553.95"]},{"value":["2019-01-01","75926.67"]},{"value":["2019-04-01","76466.57"]},{"value":["2019-07-01","80559.16"]},{"value":["2019-10-01","78598.90"]},{"value":["2020-01-01","71599.41"]},{"value":["2020-04-01","58904.57"]},{"value":["2020-07-01","61259.14"]},{"value":["2020-10-01","56687.55"]},{"value":["2021-01-01","53458.72"]},{"value":["2021-04-01","54444.24"]},{"value":["2021-07-01","60360.71"]},{"value":["2021-10-01","63616.87"]},{"value":["2022-01-01","66515.90"]},{"value":["2022-04-01","69264.17"]},{"value":["2022-07-01","76337.15"]},{"value":["2022-10-01","74961.22"]},{"value":["2023-01-01","74697.52"]},{"value":["2023-04-01","70398.32"]},{"value":["2023-07-01","76113.79"]},{"value":["2023-10-01","75681.88"]},{"value":["2024-01-01","79512.61"]},{"value":["2024-04-01","87041.30"]},{"value":["2024-07-01","97900.42"]},{"value":["2024-10-01","98030.40"]}],"name":"Renda Fixa Duração Baixa Grau de Investimento","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01"," 6779.679"]},{"value":["2010-04-01"," 7412.932"]},{"value":["2010-07-01"," 7870.846"]},{"value":["2010-10-01"," 7478.805"]},{"value":["2011-01-01"," 8106.006"]},{"value":["2011-04-01"," 8787.086"]},{"value":["2011-07-01"," 9263.585"]},{"value":["2011-10-01"," 8949.310"]},{"value":["2012-01-01"," 9518.240"]},{"value":["2012-04-01"," 9882.566"]},{"value":["2012-07-01","10115.207"]},{"value":["2012-10-01"," 9634.970"]},{"value":["2013-01-01","10944.400"]},{"value":["2013-04-01","12558.841"]},{"value":["2013-07-01","12965.575"]},{"value":["2013-10-01","12655.945"]},{"value":["2014-01-01","12997.009"]},{"value":["2014-04-01","13690.980"]},{"value":["2014-07-01","16064.144"]},{"value":["2014-10-01","16097.049"]},{"value":["2015-01-01","15828.745"]},{"value":["2015-04-01","16928.618"]},{"value":["2015-07-01","17670.253"]},{"value":["2015-10-01","16954.866"]},{"value":["2016-01-01","17461.419"]},{"value":["2016-04-01","18833.147"]},{"value":["2016-07-01","19425.537"]},{"value":["2016-10-01","18377.607"]},{"value":["2017-01-01","22556.191"]},{"value":["2017-04-01","22534.435"]},{"value":["2017-07-01","23954.228"]},{"value":["2017-10-01","22306.909"]},{"value":["2018-01-01","23888.980"]},{"value":["2018-04-01","26836.904"]},{"value":["2018-07-01","28212.255"]},{"value":["2018-10-01","27313.995"]},{"value":["2019-01-01","28187.188"]},{"value":["2019-04-01","30063.008"]},{"value":["2019-07-01","33104.980"]},{"value":["2019-10-01","33895.067"]},{"value":["2020-01-01","33524.303"]},{"value":["2020-04-01","38559.536"]},{"value":["2020-07-01","46941.249"]},{"value":["2020-10-01","47353.261"]},{"value":["2021-01-01","48561.031"]},{"value":["2021-04-01","54455.328"]},{"value":["2021-07-01","62290.654"]},{"value":["2021-10-01","56830.588"]},{"value":["2022-01-01","50011.835"]},{"value":["2022-04-01","52830.226"]},{"value":["2022-07-01","60868.015"]},{"value":["2022-10-01","54569.992"]},{"value":["2023-01-01","54344.853"]},{"value":["2023-04-01","54806.747"]},{"value":["2023-07-01","58447.075"]},{"value":["2023-10-01","57199.561"]},{"value":["2024-01-01","60780.005"]},{"value":["2024-04-01","65165.517"]},{"value":["2024-07-01","69577.336"]},{"value":["2024-10-01","66071.654"]}],"name":"Renda Fixa Duração Baixa Soberano","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01"," 1417.342"]},{"value":["2010-04-01"," 1467.870"]},{"value":["2010-07-01"," 1594.227"]},{"value":["2010-10-01"," 1664.838"]},{"value":["2011-01-01"," 1730.717"]},{"value":["2011-04-01"," 1884.406"]},{"value":["2011-07-01"," 2191.686"]},{"value":["2011-10-01"," 2252.651"]},{"value":["2012-01-01"," 2477.053"]},{"value":["2012-04-01"," 2702.420"]},{"value":["2012-07-01"," 3003.678"]},{"value":["2012-10-01"," 3071.448"]},{"value":["2013-01-01"," 3164.815"]},{"value":["2013-04-01"," 3504.940"]},{"value":["2013-07-01"," 4287.483"]},{"value":["2013-10-01"," 4404.414"]},{"value":["2014-01-01"," 4401.375"]},{"value":["2014-04-01"," 4549.236"]},{"value":["2014-07-01"," 5092.523"]},{"value":["2014-10-01"," 5233.527"]},{"value":["2015-01-01"," 5140.133"]},{"value":["2015-04-01"," 5230.084"]},{"value":["2015-07-01"," 5825.761"]},{"value":["2015-10-01"," 5679.056"]},{"value":["2016-01-01"," 5366.383"]},{"value":["2016-04-01"," 5432.173"]},{"value":["2016-07-01"," 5658.228"]},{"value":["2016-10-01"," 5625.221"]},{"value":["2017-01-01"," 6108.959"]},{"value":["2017-04-01"," 6092.541"]},{"value":["2017-07-01"," 6872.766"]},{"value":["2017-10-01"," 6957.433"]},{"value":["2018-01-01"," 7032.645"]},{"value":["2018-04-01"," 7183.826"]},{"value":["2018-07-01"," 7515.014"]},{"value":["2018-10-01"," 7860.796"]},{"value":["2019-01-01"," 8429.904"]},{"value":["2019-04-01"," 9441.221"]},{"value":["2019-07-01","11507.166"]},{"value":["2019-10-01","12256.932"]},{"value":["2020-01-01","11280.948"]},{"value":["2020-04-01"," 9464.375"]},{"value":["2020-07-01","10294.743"]},{"value":["2020-10-01","10603.358"]},{"value":["2021-01-01","10834.413"]},{"value":["2021-04-01","11715.420"]},{"value":["2021-07-01","13399.803"]},{"value":["2021-10-01","14292.947"]},{"value":["2022-01-01","15136.827"]},{"value":["2022-04-01","16437.932"]},{"value":["2022-07-01","18713.041"]},{"value":["2022-10-01","19110.862"]},{"value":["2023-01-01","19520.827"]},{"value":["2023-04-01","18694.594"]},{"value":["2023-07-01","21850.808"]},{"value":["2023-10-01","24683.095"]},{"value":["2024-01-01","27957.396"]},{"value":["2024-04-01","33227.859"]},{"value":["2024-07-01","39760.891"]},{"value":["2024-10-01","42414.808"]}],"name":"Renda Fixa Duração Livre Crédito Livre","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01","11988.07"]},{"value":["2010-04-01","12426.09"]},{"value":["2010-07-01","13453.70"]},{"value":["2010-10-01","13323.99"]},{"value":["2011-01-01","13701.76"]},{"value":["2011-04-01","14196.08"]},{"value":["2011-07-01","15071.89"]},{"value":["2011-10-01","15205.72"]},{"value":["2012-01-01","16217.81"]},{"value":["2012-04-01","16803.88"]},{"value":["2012-07-01","17650.52"]},{"value":["2012-10-01","17529.19"]},{"value":["2013-01-01","17863.18"]},{"value":["2013-04-01","18385.89"]},{"value":["2013-07-01","18549.11"]},{"value":["2013-10-01","17734.46"]},{"value":["2014-01-01","16636.21"]},{"value":["2014-04-01","16774.96"]},{"value":["2014-07-01","18332.75"]},{"value":["2014-10-01","18468.31"]},{"value":["2015-01-01","17286.69"]},{"value":["2015-04-01","18005.97"]},{"value":["2015-07-01","19796.18"]},{"value":["2015-10-01","19204.31"]},{"value":["2016-01-01","18944.43"]},{"value":["2016-04-01","20625.22"]},{"value":["2016-07-01","22210.61"]},{"value":["2016-10-01","22041.66"]},{"value":["2017-01-01","24136.94"]},{"value":["2017-04-01","25505.54"]},{"value":["2017-07-01","27633.85"]},{"value":["2017-10-01","27361.38"]},{"value":["2018-01-01","28015.63"]},{"value":["2018-04-01","29280.84"]},{"value":["2018-07-01","29722.87"]},{"value":["2018-10-01","28881.05"]},{"value":["2019-01-01","29393.95"]},{"value":["2019-04-01","30878.27"]},{"value":["2019-07-01","34994.63"]},{"value":["2019-10-01","35098.18"]},{"value":["2020-01-01","34109.77"]},{"value":["2020-04-01","31747.50"]},{"value":["2020-07-01","36112.24"]},{"value":["2020-10-01","35700.32"]},{"value":["2021-01-01","35328.86"]},{"value":["2021-04-01","35435.29"]},{"value":["2021-07-01","37387.83"]},{"value":["2021-10-01","37461.36"]},{"value":["2022-01-01","39130.29"]},{"value":["2022-04-01","41780.69"]},{"value":["2022-07-01","46231.36"]},{"value":["2022-10-01","45388.64"]},{"value":["2023-01-01","46610.20"]},{"value":["2023-04-01","45385.88"]},{"value":["2023-07-01","48572.74"]},{"value":["2023-10-01","46381.48"]},{"value":["2024-01-01","47273.74"]},{"value":["2024-04-01","49966.97"]},{"value":["2024-07-01","54485.45"]},{"value":["2024-10-01","53912.19"]}],"name":"Renda Fixa Duração Livre Grau de Investimento","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01"," 1339.918"]},{"value":["2010-04-01"," 1541.211"]},{"value":["2010-07-01"," 1810.012"]},{"value":["2010-10-01"," 2120.401"]},{"value":["2011-01-01"," 2161.482"]},{"value":["2011-04-01"," 2310.818"]},{"value":["2011-07-01"," 2585.452"]},{"value":["2011-10-01"," 2574.295"]},{"value":["2012-01-01"," 2745.706"]},{"value":["2012-04-01"," 2789.185"]},{"value":["2012-07-01"," 2912.230"]},{"value":["2012-10-01"," 2831.303"]},{"value":["2013-01-01"," 2727.046"]},{"value":["2013-04-01"," 2891.356"]},{"value":["2013-07-01"," 3253.618"]},{"value":["2013-10-01"," 3307.627"]},{"value":["2014-01-01"," 3403.188"]},{"value":["2014-04-01"," 3518.919"]},{"value":["2014-07-01"," 3963.265"]},{"value":["2014-10-01"," 4086.071"]},{"value":["2015-01-01"," 3913.474"]},{"value":["2015-04-01"," 3998.957"]},{"value":["2015-07-01"," 4523.185"]},{"value":["2015-10-01"," 4413.800"]},{"value":["2016-01-01"," 4577.712"]},{"value":["2016-04-01"," 4964.996"]},{"value":["2016-07-01"," 5416.877"]},{"value":["2016-10-01"," 5263.708"]},{"value":["2017-01-01"," 5675.818"]},{"value":["2017-04-01"," 5633.604"]},{"value":["2017-07-01"," 6307.347"]},{"value":["2017-10-01"," 6173.165"]},{"value":["2018-01-01"," 6293.023"]},{"value":["2018-04-01"," 6503.760"]},{"value":["2018-07-01"," 6699.976"]},{"value":["2018-10-01"," 6733.626"]},{"value":["2019-01-01"," 6850.660"]},{"value":["2019-04-01"," 7519.251"]},{"value":["2019-07-01"," 8581.950"]},{"value":["2019-10-01"," 8733.292"]},{"value":["2020-01-01"," 8568.064"]},{"value":["2020-04-01"," 8307.507"]},{"value":["2020-07-01"," 9473.156"]},{"value":["2020-10-01"," 9257.248"]},{"value":["2021-01-01"," 9958.270"]},{"value":["2021-04-01","10673.368"]},{"value":["2021-07-01","11554.142"]},{"value":["2021-10-01","10759.273"]},{"value":["2022-01-01","11416.058"]},{"value":["2022-04-01","11887.419"]},{"value":["2022-07-01","12814.801"]},{"value":["2022-10-01","12574.860"]},{"value":["2023-01-01","13341.960"]},{"value":["2023-04-01","13414.175"]},{"value":["2023-07-01","15189.894"]},{"value":["2023-10-01","14484.113"]},{"value":["2024-01-01","14684.728"]},{"value":["2024-04-01","14977.887"]},{"value":["2024-07-01","16022.861"]},{"value":["2024-10-01","14867.633"]}],"name":"Renda Fixa Duração Livre Soberano","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01"," 1153.155"]},{"value":["2010-04-01"," 1635.567"]},{"value":["2010-07-01"," 1928.015"]},{"value":["2010-10-01"," 2143.742"]},{"value":["2011-01-01"," 2341.810"]},{"value":["2011-04-01"," 2594.204"]},{"value":["2011-07-01"," 2994.400"]},{"value":["2011-10-01"," 3239.447"]},{"value":["2012-01-01"," 3818.762"]},{"value":["2012-04-01"," 4855.761"]},{"value":["2012-07-01"," 5746.356"]},{"value":["2012-10-01"," 6483.879"]},{"value":["2013-01-01"," 7125.143"]},{"value":["2013-04-01"," 6473.169"]},{"value":["2013-07-01"," 5683.697"]},{"value":["2013-10-01"," 5057.415"]},{"value":["2014-01-01"," 4397.665"]},{"value":["2014-04-01"," 4453.477"]},{"value":["2014-07-01"," 5216.778"]},{"value":["2014-10-01"," 5301.920"]},{"value":["2015-01-01"," 5120.372"]},{"value":["2015-04-01"," 5229.451"]},{"value":["2015-07-01"," 5442.664"]},{"value":["2015-10-01"," 5177.646"]},{"value":["2016-01-01"," 5291.068"]},{"value":["2016-04-01"," 6149.752"]},{"value":["2016-07-01"," 7123.029"]},{"value":["2016-10-01"," 7372.050"]},{"value":["2017-01-01"," 8236.836"]},{"value":["2017-04-01"," 8727.858"]},{"value":["2017-07-01"," 9487.284"]},{"value":["2017-10-01"," 9151.596"]},{"value":["2018-01-01"," 9448.403"]},{"value":["2018-04-01"," 9800.034"]},{"value":["2018-07-01"," 9262.661"]},{"value":["2018-10-01"," 9479.355"]},{"value":["2019-01-01"," 9936.815"]},{"value":["2019-04-01","10601.012"]},{"value":["2019-07-01","13088.463"]},{"value":["2019-10-01","14047.073"]},{"value":["2020-01-01","13394.969"]},{"value":["2020-04-01","12802.856"]},{"value":["2020-07-01","15620.231"]},{"value":["2020-10-01","15699.752"]},{"value":["2021-01-01","15270.114"]},{"value":["2021-04-01","14361.600"]},{"value":["2021-07-01","14173.252"]},{"value":["2021-10-01","12772.548"]},{"value":["2022-01-01","11816.337"]},{"value":["2022-04-01","11753.915"]},{"value":["2022-07-01","11697.981"]},{"value":["2022-10-01","10678.743"]},{"value":["2023-01-01","10596.786"]},{"value":["2023-04-01","10812.077"]},{"value":["2023-07-01","11643.783"]},{"value":["2023-10-01","10902.069"]},{"value":["2024-01-01","11132.054"]},{"value":["2024-04-01","11273.635"]},{"value":["2024-07-01","11322.443"]},{"value":["2024-10-01","10226.337"]}],"name":"Renda Fixa Indexados","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"},{"data":[{"value":["2010-01-01","  795.8600"]},{"value":["2010-04-01","  760.4522"]},{"value":["2010-07-01","  767.7783"]},{"value":["2010-10-01","  676.7355"]},{"value":["2011-01-01","  702.9023"]},{"value":["2011-04-01","  626.4842"]},{"value":["2011-07-01","  683.3059"]},{"value":["2011-10-01","  664.7956"]},{"value":["2012-01-01","  682.1058"]},{"value":["2012-04-01","  714.0852"]},{"value":["2012-07-01","  916.1694"]},{"value":["2012-10-01"," 1111.4792"]},{"value":["2013-01-01"," 1088.8599"]},{"value":["2013-04-01"," 1148.7379"]},{"value":["2013-07-01"," 1196.6550"]},{"value":["2013-10-01"," 1200.0419"]},{"value":["2014-01-01"," 1183.0229"]},{"value":["2014-04-01"," 1297.5222"]},{"value":["2014-07-01"," 1490.9292"]},{"value":["2014-10-01"," 1616.8289"]},{"value":["2015-01-01"," 1621.0748"]},{"value":["2015-04-01"," 1841.3961"]},{"value":["2015-07-01"," 2043.2197"]},{"value":["2015-10-01"," 2067.2625"]},{"value":["2016-01-01"," 2345.2048"]},{"value":["2016-04-01"," 2564.7377"]},{"value":["2016-07-01"," 2744.3317"]},{"value":["2016-10-01"," 2754.5828"]},{"value":["2017-01-01"," 3129.4544"]},{"value":["2017-04-01"," 3409.7078"]},{"value":["2017-07-01"," 3798.8235"]},{"value":["2017-10-01"," 3774.3923"]},{"value":["2018-01-01"," 4039.2527"]},{"value":["2018-04-01"," 4449.4218"]},{"value":["2018-07-01"," 4684.5197"]},{"value":["2018-10-01"," 4832.1682"]},{"value":["2019-01-01"," 4844.2786"]},{"value":["2019-04-01"," 5145.1525"]},{"value":["2019-07-01"," 6016.5349"]},{"value":["2019-10-01"," 6473.5075"]},{"value":["2020-01-01"," 7123.1854"]},{"value":["2020-04-01"," 9022.5249"]},{"value":["2020-07-01","10860.6546"]},{"value":["2020-10-01","10885.0439"]},{"value":["2021-01-01","11413.1114"]},{"value":["2021-04-01","12675.5850"]},{"value":["2021-07-01","15076.2487"]},{"value":["2021-10-01","22173.4232"]},{"value":["2022-01-01","26770.1513"]},{"value":["2022-04-01","25520.8877"]},{"value":["2022-07-01","24587.2654"]},{"value":["2022-10-01","23496.5758"]},{"value":["2023-01-01","24557.5308"]},{"value":["2023-04-01","25163.7361"]},{"value":["2023-07-01","26418.9065"]},{"value":["2023-10-01","24336.6616"]},{"value":["2024-01-01","24462.2966"]},{"value":["2024-04-01","25252.7660"]},{"value":["2024-07-01","26684.8655"]},{"value":["2024-10-01","25307.1634"]}],"name":"Renda Fixa Simples","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"total","series":"Tipo ANBIMA"}],"tooltip":{"trigger":"axis"},"title":[{"text":"Patrimônio Líquida por Tipo ANBIMA ao Longo do Tempo"}],"grid":[{"bottom":120,"top":60}]},"dispose":true},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Entre as categorias analisadas, os fundos de <strong>Renda Fixa Duração Livre Grau de Investimento</strong> se destacam como uma das classes que mais cresceu nos últimos anos, especialmente a partir de 2021, assumindo uma participação significativa no total. Da mesma forma, os fundos de <strong>Renda Fixa Duração Livre Soberano</strong> também apresentaram expansão expressiva, principalmente após 2020, refletindo a busca por alternativas mais flexíveis dentro da renda fixa.</p>
<p>Os fundos de <strong>Renda Fixa Duração Baixa Soberano</strong> e <strong>Renda Fixa Duração Baixa Grau de Investimento</strong> mantêm uma presença constante e relevante ao longo do tempo. Destaca-se que o fundo soberano sofreu variações mais marcantes em certos períodos, como uma queda perceptível em 2021 seguida de uma posterior recuperação. Já as categorias de <strong>Renda Fixa Simples</strong> e <strong>Outros</strong> mostram trajetórias distintas: enquanto os “Outros” crescem de forma estável, os fundos “Simples” surgem mais recentemente no gráfico, apresentando uma evolução rápida e relevante.</p>
<p>Por fim, os fundos de <strong>Renda Fixa Duração Livre Crédito Livre</strong> e <strong>Renda Fixa Indexados</strong> possuem participação menor no total, mas também mostram crescimento consistente, com destaque para o primeiro, que vem ganhando espaço de forma gradual. Em resumo, o gráfico revela um mercado de fundos de renda fixa em expansão no Brasil, com destaque para fundos de duração livre, que oferecem maior flexibilidade de gestão e têm atraído cada vez mais recursos, possivelmente em resposta à volatilidade econômica e à busca por rentabilidade com controle de risco.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>fundos_rf <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(Competência <span class="ot">=</span> <span class="fu">as.yearqtr</span>(DT_COMPTC)) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Competência <span class="sc">&gt;=</span> <span class="st">"2010 Q1"</span> <span class="sc">&amp;</span> Competência <span class="sc">&lt;=</span> <span class="st">"2024 Q4"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(DT_COMPTC, CNPJ_FUNDO, VL_QUOTA) <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ano =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(DT_COMPTC)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Ano, CNPJ_FUNDO, DT_COMPTC) <span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Rent (%)</span><span class="st">`</span> <span class="ot">=</span> ((<span class="fu">last</span>(VL_QUOTA)<span class="sc">/</span><span class="fu">first</span>(VL_QUOTA)) <span class="sc">-</span> <span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"Ano"</span>, <span class="st">"CNPJ_FUNDO"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    fundos_rf <span class="sc">%&gt;%</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>(CNPJ_FUNDO, <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>          <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Crédito Livre"</span>,</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Grau de Investimento"</span>,</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Baixa Grau de Investimento"</span>,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Soberano"</span>,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Baixa Soberano"</span>,</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Indexados"</span>,</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Simples"</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>          ) <span class="sc">~</span> <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>,</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Outros"</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>    rbcb<span class="sc">::</span><span class="fu">get_series</span>(<span class="dv">4391</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">Ano =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(date)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(Ano <span class="sc">&gt;=</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">CDI =</span> <span class="fu">last</span>((<span class="fu">cumprod</span>((<span class="st">`</span><span class="at">4391</span><span class="st">`</span><span class="sc">/</span><span class="dv">100</span>)<span class="sc">+</span><span class="dv">1</span>)<span class="sc">-</span><span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span>),</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>                <span class="at">.by =</span> Ano)</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="ot">-&gt;</span> rentabilidade_anual_fundos_rf</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>rentabilidade_anual_fundos_rf <span class="sc">%&gt;%</span> </span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Outlier =</span> <span class="fu">case_when</span>(<span class="st">`</span><span class="at">Rent (%)</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="dv">40</span> <span class="sc">|</span> <span class="st">`</span><span class="at">Rent (%)</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">40</span> <span class="sc">~</span> <span class="st">"Out"</span>,</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>                             <span class="at">.default =</span> <span class="st">"In"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Outlier <span class="sc">==</span> <span class="st">"Out"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(CNPJ_FUNDO) <span class="ot">-&gt;</span> fundos_out</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>linhas_cdi <span class="ot">&lt;-</span> rentabilidade_anual_fundos_rf <span class="sc">%&gt;%</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Renda Fixa Duração Livre Crédito Livre"</span>,</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Renda Fixa Duração Livre Grau de Investimento"</span>,</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Renda Fixa Duração Baixa Grau de Investimento"</span>,</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Renda Fixa Duração Livre Soberano"</span></span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(<span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>, Ano, CDI) <span class="sc">%&gt;%</span></span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">as.factor</span>(Ano),</span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">x_num =</span> <span class="fu">as.numeric</span>(x)</span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>rentabilidade_anual_fundos_rf <span class="sc">%&gt;%</span> </span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>CNPJ_FUNDO <span class="sc">%in%</span> fundos_out<span class="sc">$</span>CNPJ_FUNDO) <span class="sc">%&gt;%</span> </span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Crédito Livre"</span>,</span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Grau de Investimento"</span>,</span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Baixa Grau de Investimento"</span>,</span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Soberano"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Ano), <span class="at">y =</span> <span class="st">`</span><span class="at">Rent (%)</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"gray30"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">draw_quantiles =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>)) <span class="sc">+</span></span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> linhas_cdi,</span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> x_num <span class="sc">-</span> <span class="fl">0.6</span>, <span class="at">xend =</span> x_num <span class="sc">+</span> <span class="fl">0.6</span>, <span class="at">y =</span> CDI, <span class="at">yend =</span> CDI),</span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="fl">0.6</span>,</span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> <span class="cn">FALSE</span></span>
<span id="cb17-68"><a href="#cb17-68" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-69"><a href="#cb17-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb17-70"><a href="#cb17-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-71"><a href="#cb17-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribuição da Rentabilidade por Tipo ANBIMA e Ano"</span>,</span>
<span id="cb17-72"><a href="#cb17-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Ano"</span>,</span>
<span id="cb17-73"><a href="#cb17-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Rentabilidade (%)"</span></span>
<span id="cb17-74"><a href="#cb17-74" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-75"><a href="#cb17-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb17-76"><a href="#cb17-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb17-77"><a href="#cb17-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb17-78"><a href="#cb17-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb17-79"><a href="#cb17-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>)</span>
<span id="cb17-80"><a href="#cb17-80" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/analise de rentabilidades 1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>A distribuição da rentabilidade anual dos fundos de Renda Fixa, segundo a classificação ANBIMA, entre 2010 e 2024, revela padrões distintos de comportamento entre os diferentes tipos de estratégias. Os dados, representados em gráficos do tipo violino, permitem observar tanto a mediana dos retornos quanto a dispersão e densidade dos resultados ao longo do tempo.</p>
<p>Os fundos de <strong>Renda Fixa Duração Baixa Grau de Investimento</strong> apresentaram, de forma geral, retornos historicamente positivos e consistentes. Entre 2010 e 2019, as medianas de rentabilidade mantiveram-se majoritariamente entre 7% e 12%, com baixa dispersão, indicando um perfil de risco mais conservador. A partir de 2020, observa-se uma leve redução na mediana e um aumento na variabilidade dos retornos, refletindo o ambiente de maior incerteza econômica. Em 2024, entretanto, há uma recuperação, com boa concentração de retornos positivos.</p>
<p>No caso dos fundos de <strong>Renda Fixa Duração Livre Crédito Livre</strong>, verifica-se uma rentabilidade historicamente mais volátil. Embora alguns anos, como 2013 a 2017, tenham registrado medianas elevadas (acima de 10%), os períodos de 2021 e 2022 marcaram fortes perdas para muitos fundos da categoria, evidenciando os riscos associados à exposição ao crédito privado. Em 2024, a mediana volta a ser positiva, ainda que com ampla dispersão entre os fundos, o que sinaliza uma recuperação heterogênea dentro do segmento.</p>
<p>Os fundos de <strong>Renda Fixa Duração Livre Grau de Investimento</strong> seguiram trajetória semelhante à dos de duração baixa, com rentabilidades estáveis e positivas até 2019. A partir de 2020, o cenário se altera, com redução das medianas e aumento na dispersão dos resultados, indicando maior influência das condições macroeconômicas sobre o desempenho. Os anos de 2022 e 2023 registram medianas próximas de zero, com recuperação parcial em 2024, mas ainda acompanhada de significativa variabilidade entre os fundos.</p>
<p>Por fim, os fundos de <strong>Renda Fixa Duração Livre Soberano</strong>, historicamente mais previsíveis e conservadores, também passaram a apresentar maior volatilidade a partir de 2017. Houve anos de retorno negativo, como em 2020 e 2021, e a mediana de rentabilidade manteve-se em patamares mais baixos nos últimos anos. Em 2024, observa-se leve recuperação, embora com alta dispersão, possivelmente refletindo diferentes estratégias adotadas dentro da própria categoria.</p>
<p>Em síntese, os dados mostram que, mesmo entre os fundos de perfil mais conservador, houve aumento da dispersão e redução na previsibilidade dos retornos após 2020. Esse cenário reflete os desafios enfrentados pelo mercado de renda fixa nos últimos anos, incluindo oscilações na taxa de juros, incertezas macroeconômicas e reavaliações de risco de crédito. Ainda assim, o ano de 2024 apresenta sinais de retomada da rentabilidade em todas as categorias, embora com comportamentos bastante distintos entre os fundos.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>linhas_cdi <span class="ot">&lt;-</span> rentabilidade_anual_fundos_rf <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Renda Fixa Duração Livre Crédito Livre"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Renda Fixa Duração Livre Grau de Investimento"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Renda Fixa Duração Baixa Grau de Investimento"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Renda Fixa Duração Livre Soberano"</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(<span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>, Ano, CDI) <span class="sc">%&gt;%</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">as.factor</span>(Ano),</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x_num =</span> <span class="fu">as.numeric</span>(x)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>rentabilidade_anual_fundos_rf <span class="sc">%&gt;%</span> </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>CNPJ_FUNDO <span class="sc">%in%</span> fundos_out<span class="sc">$</span>CNPJ_FUNDO) <span class="sc">%&gt;%</span> </span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Crédito Livre"</span>,</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Grau de Investimento"</span>,</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Baixa Grau de Investimento"</span>,</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Renda Fixa Duração Livre Soberano"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Ano), <span class="at">y =</span> <span class="st">`</span><span class="at">Rent (%)</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, </span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">"gray30"</span>, </span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.8</span>, </span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>              <span class="at">draw_quantiles =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>)) <span class="sc">+</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> linhas_cdi,</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> x_num <span class="sc">-</span> <span class="fl">0.6</span>, <span class="at">xend =</span> x_num <span class="sc">+</span> <span class="fl">0.6</span>, <span class="at">y =</span> CDI, <span class="at">yend =</span> CDI),</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="fl">0.6</span>,</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> <span class="cn">FALSE</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="st">`</span><span class="at">Tipo ANBIMA</span><span class="st">`</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribuição da Rentabilidade por Tipo ANBIMA e Ano"</span>,</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Ano"</span>,</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Rentabilidade (%)"</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>)</span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/analise de rentabilidades 2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Esses gráficos apresentam a distribuição da rentabilidade anual (%) de mais quatro categorias de fundos de Renda Fixa, segundo a classificação ANBIMA, entre os anos de 2010 a 2024. Os gráficos do tipo violino permitem visualizar tanto a mediana (linha vermelha) quanto a dispersão e a densidade dos retornos para cada classe em cada ano.</p>
<p>A categoria <strong>Outros</strong> engloba fundos de Renda Fixa que não se enquadram nas classificações padronizadas da ANBIMA, podendo incluir estratégias mais específicas ou híbridas. A rentabilidade média ao longo dos anos foi positiva, com medianas geralmente entre 7% e 15%, demonstrando relativa consistência. Em certos anos, como 2013, 2018 e 2022, a dispersão dos retornos foi mais acentuada, indicando uma maior heterogeneidade entre os fundos da categoria. Em 2024, a rentabilidade permanece positiva, com uma distribuição moderadamente ampla.</p>
<p>A classe <strong>Renda Fixa Duração Baixa Soberano</strong> apresenta um histórico de retornos estáveis e conservadores, condizente com a alocação predominante em títulos públicos de curto prazo. As medianas de rentabilidade permanecem entre 7% e 10% na maior parte dos anos, com baixa variação entre os fundos. Entre 2020 e 2022, houve um leve declínio nos resultados, reflexo do ambiente de juros baixos. A partir de 2023, os retornos voltam a se alinhar ao padrão histórico, sugerindo uma normalização após o período de instabilidade econômica.</p>
<p>Os fundos da categoria <strong>Renda Fixa Indexados</strong>, que acompanham índices de preços ou de mercado, apresentaram uma maior variabilidade nos resultados, tanto em dispersão quanto em mediana. Em diversos anos, como 2013, 2015 e 2020, observa-se ampla faixa de rentabilidade — com fundos registrando desde perdas até ganhos superiores a 25%. Isso demonstra forte dependência das condições macroeconômicas e da indexação utilizada. A mediana dos retornos caiu acentuadamente entre 2020 e 2022, com início de recuperação observado em 2023 e 2024.</p>
<p>A categoria <strong>Renda Fixa Simples</strong>, voltada para investidores de perfil conservador, apresentou menor dispersão e retornos mais modestos ao longo do tempo. As medianas de rentabilidade oscilaram entre 5% e 10%, com exceção dos anos entre 2020 e 2022, quando houve queda significativa, impulsionada pela redução das taxas de juros reais. A partir de 2023, nota-se uma recuperação consistente, com as medianas retornando à faixa de 10% e menor variação entre os fundos.</p>
<p>Em síntese, os gráficos mostram que, enquanto categorias como <strong>Renda Fixa Simples</strong> e <strong>Renda Fixa Duração Baixa Soberano</strong> mantêm um comportamento mais previsível e conservador, outras, como <strong>Renda Fixa Indexados</strong> e <strong>Outros</strong>, apresentam maior sensibilidade às condições macroeconômicas e maior volatilidade. Apesar das dificuldades enfrentadas entre 2020 e 2022, os anos de 2023 e 2024 indicam uma retomada generalizada da rentabilidade nos fundos de Renda Fixa, ainda que com diferentes padrões de dispersão, refletindo o perfil e a estratégia específica de cada classe.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>